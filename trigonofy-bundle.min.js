var ds=Object.create;var jn=Object.defineProperty;var vs=Object.getOwnPropertyDescriptor;var gs=Object.getOwnPropertyNames;var bs=Object.getPrototypeOf,ps=Object.prototype.hasOwnProperty;var ms=g=>jn(g,"__esModule",{value:!0});var _s=(g,e)=>()=>(e||g((e={exports:{}}).exports,e),e.exports);var ys=(g,e,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gs(e))!ps.call(g,i)&&i!=="default"&&jn(g,i,{get:()=>e[i],enumerable:!(a=vs(e,i))||a.enumerable});return g},Rn=g=>ys(ms(jn(g!=null?ds(bs(g)):{},"default",g&&g.__esModule&&"default"in g?{get:()=>g.default,enumerable:!0}:{value:g,enumerable:!0})),g);var on=_s((xn,Cn)=>{(function(g,e){typeof xn=="object"&&typeof Cn!="undefined"?Cn.exports=e():typeof define=="function"&&define.amd?define(e):g.chroma=e()})(xn,function(){"use strict";for(var g=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=1),t<n?n:t>r?r:t},e=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=g(t[n],0,255)):n===3&&(t[n]=g(t[n],0,1));return t},a={},i=0,s=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<s.length;i+=1){var l=s[i];a["[object "+l+"]"]=l.toLowerCase()}var c=function(t){return a[Object.prototype.toString.call(t)]||"object"},u=function(t,n){return n===void 0&&(n=null),t.length>=3?Array.prototype.slice.call(t):c(t[0])=="object"&&n?n.split("").filter(function(r){return t[0][r]!==void 0}).map(function(r){return t[0][r]}):t[0]},b=function(t){if(t.length<2)return null;var n=t.length-1;return c(t[n])=="string"?t[n].toLowerCase():null},M=Math.PI,p={clip_rgb:e,limit:g,type:c,unpack:u,last:b,PI:M,TWOPI:M*2,PITHIRD:M/3,DEG2RAD:M/180,RAD2DEG:180/M},h={format:{},autodetect:[]},y=p.last,k=p.clip_rgb,S=p.type,T=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o=this;if(S(n[0])==="object"&&n[0].constructor&&n[0].constructor===this.constructor)return n[0];var d=y(n),v=!1;if(!d){v=!0,h.sorted||(h.autodetect=h.autodetect.sort(function(I,A){return A.p-I.p}),h.sorted=!0);for(var f=0,m=h.autodetect;f<m.length;f+=1){var _=m[f];if(d=_.test.apply(_,n),d)break}}if(h.format[d]){var P=h.format[d].apply(null,v?n:n.slice(0,-1));o._rgb=k(P)}else throw new Error("unknown format: "+n);o._rgb.length===3&&o._rgb.push(1)};T.prototype.toString=function(){return S(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var w=T,j=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(j.Color,[null].concat(t)))};j.Color=w,j.version="2.1.2";var F=j,V=p.unpack,K=Math.max,z=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=V(t,"rgb"),o=r[0],d=r[1],v=r[2];o=o/255,d=d/255,v=v/255;var f=1-K(o,K(d,v)),m=f<1?1/(1-f):0,_=(1-o-f)*m,P=(1-d-f)*m,I=(1-v-f)*m;return[_,P,I,f]},Q=z,ot=p.unpack,at=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=ot(t,"cmyk");var r=t[0],o=t[1],d=t[2],v=t[3],f=t.length>4?t[4]:1;return v===1?[0,0,0,f]:[r>=1?0:255*(1-r)*(1-v),o>=1?0:255*(1-o)*(1-v),d>=1?0:255*(1-d)*(1-v),f]},lt=at,x=p.unpack,G=p.type;w.prototype.cmyk=function(){return Q(this._rgb)},F.cmyk=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["cmyk"])))},h.format.cmyk=lt,h.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=x(t,"cmyk"),G(t)==="array"&&t.length===4)return"cmyk"}});var O=p.unpack,U=p.last,J=function(t){return Math.round(t*100)/100},bt=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=O(t,"hsla"),o=U(t)||"lsa";return r[0]=J(r[0]||0),r[1]=J(r[1]*100)+"%",r[2]=J(r[2]*100)+"%",o==="hsla"||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,o="hsla"):r.length=3,o+"("+r.join(",")+")"},ft=bt,Y=p.unpack,ct=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=Y(t,"rgba");var r=t[0],o=t[1],d=t[2];r/=255,o/=255,d/=255;var v=Math.min(r,o,d),f=Math.max(r,o,d),m=(f+v)/2,_,P;return f===v?(_=0,P=Number.NaN):_=m<.5?(f-v)/(f+v):(f-v)/(2-f-v),r==f?P=(o-d)/(f-v):o==f?P=2+(d-r)/(f-v):d==f&&(P=4+(r-o)/(f-v)),P*=60,P<0&&(P+=360),t.length>3&&t[3]!==void 0?[P,_,m,t[3]]:[P,_,m]},$t=ct,kt=p.unpack,Bt=p.last,Vt=Math.round,Re=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=kt(t,"rgba"),o=Bt(t)||"rgb";return o.substr(0,3)=="hsl"?ft($t(r),o):(r[0]=Vt(r[0]),r[1]=Vt(r[1]),r[2]=Vt(r[2]),(o==="rgba"||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,o="rgba"),o+"("+r.slice(0,o==="rgb"?3:4).join(",")+")")},xe=Re,Ce=p.unpack,un=Math.round,Le=function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];n=Ce(n,"hsl");var o=n[0],d=n[1],v=n[2],f,m,_;if(d===0)f=m=_=v*255;else{var P=[0,0,0],I=[0,0,0],A=v<.5?v*(1+d):v+d-v*d,R=2*v-A,E=o/360;P[0]=E+1/3,P[1]=E,P[2]=E-1/3;for(var L=0;L<3;L++)P[L]<0&&(P[L]+=1),P[L]>1&&(P[L]-=1),6*P[L]<1?I[L]=R+(A-R)*6*P[L]:2*P[L]<1?I[L]=A:3*P[L]<2?I[L]=R+(A-R)*(2/3-P[L])*6:I[L]=R;t=[un(I[0]*255),un(I[1]*255),un(I[2]*255)],f=t[0],m=t[1],_=t[2]}return n.length>3?[f,m,_,n[3]]:[f,m,_,1]},hn=Le,qn=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Un=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Yn=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Xn=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Hn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Bn=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Vn=Math.round,Wn=function(t){t=t.toLowerCase().trim();var n;if(h.format.named)try{return h.format.named(t)}catch(L){}if(n=t.match(qn)){for(var r=n.slice(1,4),o=0;o<3;o++)r[o]=+r[o];return r[3]=1,r}if(n=t.match(Un)){for(var d=n.slice(1,5),v=0;v<4;v++)d[v]=+d[v];return d}if(n=t.match(Yn)){for(var f=n.slice(1,4),m=0;m<3;m++)f[m]=Vn(f[m]*2.55);return f[3]=1,f}if(n=t.match(Xn)){for(var _=n.slice(1,5),P=0;P<3;P++)_[P]=Vn(_[P]*2.55);return _[3]=+_[3],_}if(n=t.match(Hn)){var I=n.slice(1,4);I[1]*=.01,I[2]*=.01;var A=hn(I);return A[3]=1,A}if(n=t.match(Bn)){var R=n.slice(1,4);R[1]*=.01,R[2]*=.01;var E=hn(R);return E[3]=+n[4],E}};Wn.test=function(t){return qn.test(t)||Un.test(t)||Yn.test(t)||Xn.test(t)||Hn.test(t)||Bn.test(t)};var Kn=Wn,Ge=p.type;w.prototype.css=function(t){return xe(this._rgb,t)},F.css=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["css"])))},h.format.css=Kn,h.autodetect.push({p:5,test:function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];if(!n.length&&Ge(t)==="string"&&Kn.test(t))return"css"}});var De=p.unpack;h.format.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=De(t,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},F.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["gl"])))},w.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var Oe=p.unpack,qe=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Oe(t,"rgb"),o=r[0],d=r[1],v=r[2],f=Math.min(o,d,v),m=Math.max(o,d,v),_=m-f,P=_*100/255,I=f/(255-_)*100,A;return _===0?A=Number.NaN:(o===m&&(A=(d-v)/_),d===m&&(A=2+(v-o)/_),v===m&&(A=4+(o-d)/_),A*=60,A<0&&(A+=360)),[A,P,I]},Ue=qe,Ye=p.unpack,Xe=Math.floor,He=function(){for(var t,n,r,o,d,v,f=[],m=arguments.length;m--;)f[m]=arguments[m];f=Ye(f,"hcg");var _=f[0],P=f[1],I=f[2],A,R,E;I=I*255;var L=P*255;if(P===0)A=R=E=I;else{_===360&&(_=0),_>360&&(_-=360),_<0&&(_+=360),_/=60;var X=Xe(_),D=_-X,Z=I*(1-P),et=Z+L*(1-D),dt=Z+L*D,vt=Z+L;switch(X){case 0:t=[vt,dt,Z],A=t[0],R=t[1],E=t[2];break;case 1:n=[et,vt,Z],A=n[0],R=n[1],E=n[2];break;case 2:r=[Z,vt,dt],A=r[0],R=r[1],E=r[2];break;case 3:o=[Z,et,vt],A=o[0],R=o[1],E=o[2];break;case 4:d=[dt,Z,vt],A=d[0],R=d[1],E=d[2];break;case 5:v=[vt,Z,et],A=v[0],R=v[1],E=v[2];break}}return[A,R,E,f.length>3?f[3]:1]},Be=He,Ve=p.unpack,We=p.type;w.prototype.hcg=function(){return Ue(this._rgb)},F.hcg=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["hcg"])))},h.format.hcg=Be,h.autodetect.push({p:1,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Ve(t,"hcg"),We(t)==="array"&&t.length===3)return"hcg"}});var Ke=p.unpack,Ze=p.last,tn=Math.round,Qe=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Ke(t,"rgba"),o=r[0],d=r[1],v=r[2],f=r[3],m=Ze(t)||"auto";f===void 0&&(f=1),m==="auto"&&(m=f<1?"rgba":"rgb"),o=tn(o),d=tn(d),v=tn(v);var _=o<<16|d<<8|v,P="000000"+_.toString(16);P=P.substr(P.length-6);var I="0"+tn(f*255).toString(16);switch(I=I.substr(I.length-2),m.toLowerCase()){case"rgba":return"#"+P+I;case"argb":return"#"+I+P;default:return"#"+P}},Zn=Qe,ze=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Je=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,tr=function(t){if(t.match(ze)){(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16),r=n>>16,o=n>>8&255,d=n&255;return[r,o,d,1]}if(t.match(Je)){(t.length===5||t.length===9)&&(t=t.substr(1)),t.length===4&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var v=parseInt(t,16),f=v>>24&255,m=v>>16&255,_=v>>8&255,P=Math.round((v&255)/255*100)/100;return[f,m,_,P]}throw new Error("unknown hex color: "+t)},Qn=tr,nr=p.type;w.prototype.hex=function(t){return Zn(this._rgb,t)},F.hex=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["hex"])))},h.format.hex=Qn,h.autodetect.push({p:4,test:function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];if(!n.length&&nr(t)==="string"&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var er=p.unpack,zn=p.TWOPI,rr=Math.min,ar=Math.sqrt,sr=Math.acos,ir=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=er(t,"rgb"),o=r[0],d=r[1],v=r[2];o/=255,d/=255,v/=255;var f,m=rr(o,d,v),_=(o+d+v)/3,P=_>0?1-m/_:0;return P===0?f=NaN:(f=(o-d+(o-v))/2,f/=ar((o-d)*(o-d)+(o-v)*(d-v)),f=sr(f),v>d&&(f=zn-f),f/=zn),[f*360,P,_]},or=ir,lr=p.unpack,dn=p.limit,Rt=p.TWOPI,vn=p.PITHIRD,xt=Math.cos,cr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=lr(t,"hsi");var r=t[0],o=t[1],d=t[2],v,f,m;return isNaN(r)&&(r=0),isNaN(o)&&(o=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(m=(1-o)/3,v=(1+o*xt(Rt*r)/xt(vn-Rt*r))/3,f=1-(m+v)):r<2/3?(r-=1/3,v=(1-o)/3,f=(1+o*xt(Rt*r)/xt(vn-Rt*r))/3,m=1-(v+f)):(r-=2/3,f=(1-o)/3,m=(1+o*xt(Rt*r)/xt(vn-Rt*r))/3,v=1-(f+m)),v=dn(d*v*3),f=dn(d*f*3),m=dn(d*m*3),[v*255,f*255,m*255,t.length>3?t[3]:1]},fr=cr,ur=p.unpack,hr=p.type;w.prototype.hsi=function(){return or(this._rgb)},F.hsi=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["hsi"])))},h.format.hsi=fr,h.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=ur(t,"hsi"),hr(t)==="array"&&t.length===3)return"hsi"}});var dr=p.unpack,vr=p.type;w.prototype.hsl=function(){return $t(this._rgb)},F.hsl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["hsl"])))},h.format.hsl=hn,h.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=dr(t,"hsl"),vr(t)==="array"&&t.length===3)return"hsl"}});var gr=p.unpack,br=Math.min,pr=Math.max,mr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=gr(t,"rgb");var r=t[0],o=t[1],d=t[2],v=br(r,o,d),f=pr(r,o,d),m=f-v,_,P,I;return I=f/255,f===0?(_=Number.NaN,P=0):(P=m/f,r===f&&(_=(o-d)/m),o===f&&(_=2+(d-r)/m),d===f&&(_=4+(r-o)/m),_*=60,_<0&&(_+=360)),[_,P,I]},_r=mr,yr=p.unpack,wr=Math.floor,kr=function(){for(var t,n,r,o,d,v,f=[],m=arguments.length;m--;)f[m]=arguments[m];f=yr(f,"hsv");var _=f[0],P=f[1],I=f[2],A,R,E;if(I*=255,P===0)A=R=E=I;else{_===360&&(_=0),_>360&&(_-=360),_<0&&(_+=360),_/=60;var L=wr(_),X=_-L,D=I*(1-P),Z=I*(1-P*X),et=I*(1-P*(1-X));switch(L){case 0:t=[I,et,D],A=t[0],R=t[1],E=t[2];break;case 1:n=[Z,I,D],A=n[0],R=n[1],E=n[2];break;case 2:r=[D,I,et],A=r[0],R=r[1],E=r[2];break;case 3:o=[D,Z,I],A=o[0],R=o[1],E=o[2];break;case 4:d=[et,D,I],A=d[0],R=d[1],E=d[2];break;case 5:v=[I,D,Z],A=v[0],R=v[1],E=v[2];break}}return[A,R,E,f.length>3?f[3]:1]},Mr=kr,Pr=p.unpack,$r=p.type;w.prototype.hsv=function(){return _r(this._rgb)},F.hsv=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["hsv"])))},h.format.hsv=Mr,h.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Pr(t,"hsv"),$r(t)==="array"&&t.length===3)return"hsv"}});var pt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ar=p.unpack,Jn=Math.pow,Fr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Ar(t,"rgb"),o=r[0],d=r[1],v=r[2],f=Ir(o,d,v),m=f[0],_=f[1],P=f[2],I=116*_-16;return[I<0?0:I,500*(m-_),200*(_-P)]},gn=function(t){return(t/=255)<=.04045?t/12.92:Jn((t+.055)/1.055,2.4)},bn=function(t){return t>pt.t3?Jn(t,1/3):t/pt.t2+pt.t0},Ir=function(t,n,r){t=gn(t),n=gn(n),r=gn(r);var o=bn((.4124564*t+.3575761*n+.1804375*r)/pt.Xn),d=bn((.2126729*t+.7151522*n+.072175*r)/pt.Yn),v=bn((.0193339*t+.119192*n+.9503041*r)/pt.Zn);return[o,d,v]},te=Fr,Nr=p.unpack,Sr=Math.pow,Tr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=Nr(t,"lab");var r=t[0],o=t[1],d=t[2],v,f,m,_,P,I;return f=(r+16)/116,v=isNaN(o)?f:f+o/500,m=isNaN(d)?f:f-d/200,f=pt.Yn*mn(f),v=pt.Xn*mn(v),m=pt.Zn*mn(m),_=pn(3.2404542*v-1.5371385*f-.4985314*m),P=pn(-.969266*v+1.8760108*f+.041556*m),I=pn(.0556434*v-.2040259*f+1.0572252*m),[_,P,I,t.length>3?t[3]:1]},pn=function(t){return 255*(t<=.00304?12.92*t:1.055*Sr(t,1/2.4)-.055)},mn=function(t){return t>pt.t1?t*t*t:pt.t2*(t-pt.t0)},ne=Tr,Er=p.unpack,jr=p.type;w.prototype.lab=function(){return te(this._rgb)},F.lab=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["lab"])))},h.format.lab=ne,h.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Er(t,"lab"),jr(t)==="array"&&t.length===3)return"lab"}});var Rr=p.unpack,xr=p.RAD2DEG,Cr=Math.sqrt,Lr=Math.atan2,Gr=Math.round,Dr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Rr(t,"lab"),o=r[0],d=r[1],v=r[2],f=Cr(d*d+v*v),m=(Lr(v,d)*xr+360)%360;return Gr(f*1e4)===0&&(m=Number.NaN),[o,f,m]},Or=Dr,qr=p.unpack,Ur=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=qr(t,"rgb"),o=r[0],d=r[1],v=r[2],f=te(o,d,v),m=f[0],_=f[1],P=f[2];return Or(m,_,P)},ee=Ur,Yr=p.unpack,Xr=p.DEG2RAD,Hr=Math.sin,Br=Math.cos,Vr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Yr(t,"lch"),o=r[0],d=r[1],v=r[2];return isNaN(v)&&(v=0),v=v*Xr,[o,Br(v)*d,Hr(v)*d]},Wr=Vr,Kr=p.unpack,Zr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=Kr(t,"lch");var r=t[0],o=t[1],d=t[2],v=Wr(r,o,d),f=v[0],m=v[1],_=v[2],P=ne(f,m,_),I=P[0],A=P[1],R=P[2];return[I,A,R,t.length>3?t[3]:1]},re=Zr,Qr=p.unpack,zr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Qr(t,"hcl").reverse();return re.apply(void 0,r)},Jr=zr,ta=p.unpack,na=p.type;w.prototype.lch=function(){return ee(this._rgb)},w.prototype.hcl=function(){return ee(this._rgb).reverse()},F.lch=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["lch"])))},F.hcl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["hcl"])))},h.format.lch=re,h.format.hcl=Jr,["lch","hcl"].forEach(function(t){return h.autodetect.push({p:2,test:function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(n=ta(n,t),na(n)==="array"&&n.length===3)return t}})});var ea={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ct=ea,ra=p.type;w.prototype.name=function(){for(var t=Zn(this._rgb,"rgb"),n=0,r=Object.keys(Ct);n<r.length;n+=1){var o=r[n];if(Ct[o]===t)return o.toLowerCase()}return t},h.format.named=function(t){if(t=t.toLowerCase(),Ct[t])return Qn(Ct[t]);throw new Error("unknown color name: "+t)},h.autodetect.push({p:5,test:function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];if(!n.length&&ra(t)==="string"&&Ct[t.toLowerCase()])return"named"}});var aa=p.unpack,sa=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=aa(t,"rgb"),o=r[0],d=r[1],v=r[2];return(o<<16)+(d<<8)+v},ia=sa,oa=p.type,la=function(t){if(oa(t)=="number"&&t>=0&&t<=16777215){var n=t>>16,r=t>>8&255,o=t&255;return[n,r,o,1]}throw new Error("unknown num color: "+t)},ca=la,fa=p.type;w.prototype.num=function(){return ia(this._rgb)},F.num=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["num"])))},h.format.num=ca,h.autodetect.push({p:5,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length===1&&fa(t[0])==="number"&&t[0]>=0&&t[0]<=16777215)return"num"}});var ae=p.unpack,se=p.type,ie=Math.round;w.prototype.rgb=function(t){return t===void 0&&(t=!0),t===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ie)},w.prototype.rgba=function(t){return t===void 0&&(t=!0),this._rgb.slice(0,4).map(function(n,r){return r<3?t===!1?n:ie(n):n})},F.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["rgb"])))},h.format.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=ae(t,"rgba");return r[3]===void 0&&(r[3]=1),r},h.autodetect.push({p:3,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=ae(t,"rgba"),se(t)==="array"&&(t.length===3||t.length===4&&se(t[3])=="number"&&t[3]>=0&&t[3]<=1))return"rgb"}});var nn=Math.log,ua=function(t){var n=t/100,r,o,d;return n<66?(r=255,o=-155.25485562709179-.44596950469579133*(o=n-2)+104.49216199393888*nn(o),d=n<20?0:-254.76935184120902+.8274096064007395*(d=n-10)+115.67994401066147*nn(d)):(r=351.97690566805693+.114206453784165*(r=n-55)-40.25366309332127*nn(r),o=325.4494125711974+.07943456536662342*(o=n-50)-28.0852963507957*nn(o),d=255),[r,o,d,1]},oe=ua,ha=p.unpack,da=Math.round,va=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=ha(t,"rgb"),o=r[0],d=r[2],v=1e3,f=4e4,m=.4,_;f-v>m;){_=(f+v)*.5;var P=oe(_);P[2]/P[0]>=d/o?f=_:v=_}return da(_)},ga=va;w.prototype.temp=w.prototype.kelvin=w.prototype.temperature=function(){return ga(this._rgb)},F.temp=F.kelvin=F.temperature=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(w,[null].concat(t,["temp"])))},h.format.temp=h.format.kelvin=h.format.temperature=oe;var ba=p.type;w.prototype.alpha=function(t,n){return n===void 0&&(n=!1),t!==void 0&&ba(t)==="number"?n?(this._rgb[3]=t,this):new w([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},w.prototype.clipped=function(){return this._rgb._clipped||!1},w.prototype.darken=function(t){t===void 0&&(t=1);var n=this,r=n.lab();return r[0]-=pt.Kn*t,new w(r,"lab").alpha(n.alpha(),!0)},w.prototype.brighten=function(t){return t===void 0&&(t=1),this.darken(-t)},w.prototype.darker=w.prototype.darken,w.prototype.brighter=w.prototype.brighten,w.prototype.get=function(t){var n=t.split("."),r=n[0],o=n[1],d=this[r]();if(o){var v=r.indexOf(o);if(v>-1)return d[v];throw new Error("unknown channel "+o+" in mode "+r)}else return d};var pa=p.type,ma=Math.pow,_a=1e-7,ya=20;w.prototype.luminance=function(t){if(t!==void 0&&pa(t)==="number"){if(t===0)return new w([0,0,0,this._rgb[3]],"rgb");if(t===1)return new w([255,255,255,this._rgb[3]],"rgb");var n=this.luminance(),r="rgb",o=ya,d=function(f,m){var _=f.interpolate(m,.5,r),P=_.luminance();return Math.abs(t-P)<_a||!o--?_:P>t?d(f,_):d(_,m)},v=(n>t?d(new w([0,0,0]),this):d(this,new w([255,255,255]))).rgb();return new w(v.concat([this._rgb[3]]))}return wa.apply(void 0,this._rgb.slice(0,3))};var wa=function(t,n,r){return t=_n(t),n=_n(n),r=_n(r),.2126*t+.7152*n+.0722*r},_n=function(t){return t/=255,t<=.03928?t/12.92:ma((t+.055)/1.055,2.4)},mt={},le=p.type,ce=function(t,n,r){r===void 0&&(r=.5);for(var o=[],d=arguments.length-3;d-- >0;)o[d]=arguments[d+3];var v=o[0]||"lrgb";if(!mt[v]&&!o.length&&(v=Object.keys(mt)[0]),!mt[v])throw new Error("interpolation mode "+v+" is not defined");return le(t)!=="object"&&(t=new w(t)),le(n)!=="object"&&(n=new w(n)),mt[v](t,n,r).alpha(t.alpha()+r*(n.alpha()-t.alpha()))};w.prototype.mix=w.prototype.interpolate=function(t,n){n===void 0&&(n=.5);for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return ce.apply(void 0,[this,t,n].concat(r))},w.prototype.premultiply=function(t){t===void 0&&(t=!1);var n=this._rgb,r=n[3];return t?(this._rgb=[n[0]*r,n[1]*r,n[2]*r,r],this):new w([n[0]*r,n[1]*r,n[2]*r,r],"rgb")},w.prototype.saturate=function(t){t===void 0&&(t=1);var n=this,r=n.lch();return r[1]+=pt.Kn*t,r[1]<0&&(r[1]=0),new w(r,"lch").alpha(n.alpha(),!0)},w.prototype.desaturate=function(t){return t===void 0&&(t=1),this.saturate(-t)};var fe=p.type;w.prototype.set=function(t,n,r){r===void 0&&(r=!1);var o=t.split("."),d=o[0],v=o[1],f=this[d]();if(v){var m=d.indexOf(v);if(m>-1){if(fe(n)=="string")switch(n.charAt(0)){case"+":f[m]+=+n;break;case"-":f[m]+=+n;break;case"*":f[m]*=+n.substr(1);break;case"/":f[m]/=+n.substr(1);break;default:f[m]=+n}else if(fe(n)==="number")f[m]=n;else throw new Error("unsupported value for Color.set");var _=new w(f,d);return r?(this._rgb=_._rgb,this):_}throw new Error("unknown channel "+v+" in mode "+d)}else return f};var ka=function(t,n,r){var o=t._rgb,d=n._rgb;return new w(o[0]+r*(d[0]-o[0]),o[1]+r*(d[1]-o[1]),o[2]+r*(d[2]-o[2]),"rgb")};mt.rgb=ka;var yn=Math.sqrt,Lt=Math.pow,Ma=function(t,n,r){var o=t._rgb,d=o[0],v=o[1],f=o[2],m=n._rgb,_=m[0],P=m[1],I=m[2];return new w(yn(Lt(d,2)*(1-r)+Lt(_,2)*r),yn(Lt(v,2)*(1-r)+Lt(P,2)*r),yn(Lt(f,2)*(1-r)+Lt(I,2)*r),"rgb")};mt.lrgb=Ma;var Pa=function(t,n,r){var o=t.lab(),d=n.lab();return new w(o[0]+r*(d[0]-o[0]),o[1]+r*(d[1]-o[1]),o[2]+r*(d[2]-o[2]),"lab")};mt.lab=Pa;var Wt=function(t,n,r,o){var d,v,f,m;o==="hsl"?(f=t.hsl(),m=n.hsl()):o==="hsv"?(f=t.hsv(),m=n.hsv()):o==="hcg"?(f=t.hcg(),m=n.hcg()):o==="hsi"?(f=t.hsi(),m=n.hsi()):(o==="lch"||o==="hcl")&&(o="hcl",f=t.hcl(),m=n.hcl());var _,P,I,A,R,E;o.substr(0,1)==="h"&&(d=f,_=d[0],I=d[1],R=d[2],v=m,P=v[0],A=v[1],E=v[2]);var L,X,D,Z;return!isNaN(_)&&!isNaN(P)?(P>_&&P-_>180?Z=P-(_+360):P<_&&_-P>180?Z=P+360-_:Z=P-_,X=_+r*Z):isNaN(_)?isNaN(P)?X=Number.NaN:(X=P,(R==1||R==0)&&o!="hsv"&&(L=A)):(X=_,(E==1||E==0)&&o!="hsv"&&(L=I)),L===void 0&&(L=I+r*(A-I)),D=R+r*(E-R),new w([X,L,D],o)},ue=function(t,n,r){return Wt(t,n,r,"lch")};mt.lch=ue,mt.hcl=ue;var $a=function(t,n,r){var o=t.num(),d=n.num();return new w(o+r*(d-o),"num")};mt.num=$a;var Aa=function(t,n,r){return Wt(t,n,r,"hcg")};mt.hcg=Aa;var Fa=function(t,n,r){return Wt(t,n,r,"hsi")};mt.hsi=Fa;var Ia=function(t,n,r){return Wt(t,n,r,"hsl")};mt.hsl=Ia;var Na=function(t,n,r){return Wt(t,n,r,"hsv")};mt.hsv=Na;var Sa=p.clip_rgb,wn=Math.pow,kn=Math.sqrt,Mn=Math.PI,he=Math.cos,de=Math.sin,Ta=Math.atan2,Ea=function(t,n,r){n===void 0&&(n="lrgb"),r===void 0&&(r=null);var o=t.length;r||(r=Array.from(new Array(o)).map(function(){return 1}));var d=o/r.reduce(function(X,D){return X+D});if(r.forEach(function(X,D){r[D]*=d}),t=t.map(function(X){return new w(X)}),n==="lrgb")return ja(t,r);for(var v=t.shift(),f=v.get(n),m=[],_=0,P=0,I=0;I<f.length;I++)if(f[I]=(f[I]||0)*r[0],m.push(isNaN(f[I])?0:r[0]),n.charAt(I)==="h"&&!isNaN(f[I])){var A=f[I]/180*Mn;_+=he(A)*r[0],P+=de(A)*r[0]}var R=v.alpha()*r[0];t.forEach(function(X,D){var Z=X.get(n);R+=X.alpha()*r[D+1];for(var et=0;et<f.length;et++)if(!isNaN(Z[et]))if(m[et]+=r[D+1],n.charAt(et)==="h"){var dt=Z[et]/180*Mn;_+=he(dt)*r[D+1],P+=de(dt)*r[D+1]}else f[et]+=Z[et]*r[D+1]});for(var E=0;E<f.length;E++)if(n.charAt(E)==="h"){for(var L=Ta(P/m[E],_/m[E])/Mn*180;L<0;)L+=360;for(;L>=360;)L-=360;f[E]=L}else f[E]=f[E]/m[E];return R/=o,new w(f,n).alpha(R>.99999?1:R,!0)},ja=function(t,n){for(var r=t.length,o=[0,0,0,0],d=0;d<t.length;d++){var v=t[d],f=n[d]/r,m=v._rgb;o[0]+=wn(m[0],2)*f,o[1]+=wn(m[1],2)*f,o[2]+=wn(m[2],2)*f,o[3]+=m[3]*f}return o[0]=kn(o[0]),o[1]=kn(o[1]),o[2]=kn(o[2]),o[3]>.9999999&&(o[3]=1),new w(Sa(o))},Gt=p.type,Ra=Math.pow,en=function(t){var n="rgb",r=F("#ccc"),o=0,d=[0,1],v=[],f=[0,0],m=!1,_=[],P=!1,I=0,A=1,R=!1,E={},L=!0,X=1,D=function(N){if(N=N||["#fff","#000"],N&&Gt(N)==="string"&&F.brewer&&F.brewer[N.toLowerCase()]&&(N=F.brewer[N.toLowerCase()]),Gt(N)==="array"){N.length===1&&(N=[N[0],N[0]]),N=N.slice(0);for(var C=0;C<N.length;C++)N[C]=F(N[C]);v.length=0;for(var H=0;H<N.length;H++)v.push(H/(N.length-1))}return wt(),_=N},Z=function(N){if(m!=null){for(var C=m.length-1,H=0;H<C&&N>=m[H];)H++;return H-1}return 0},et=function(N){return N},dt=function(N){return N},vt=function(N,C){var H,q;if(C==null&&(C=!1),isNaN(N)||N===null)return r;if(C)q=N;else if(m&&m.length>2){var _t=Z(N);q=_t/(m.length-2)}else A!==I?q=(N-I)/(A-I):q=1;q=dt(q),C||(q=et(q)),X!==1&&(q=Ra(q,X)),q=f[0]+q*(1-f[0]-f[1]),q=Math.min(1,Math.max(0,q));var it=Math.floor(q*1e4);if(L&&E[it])H=E[it];else{if(Gt(_)==="array")for(var tt=0;tt<v.length;tt++){var nt=v[tt];if(q<=nt){H=_[tt];break}if(q>=nt&&tt===v.length-1){H=_[tt];break}if(q>nt&&q<v[tt+1]){q=(q-nt)/(v[tt+1]-nt),H=F.interpolate(_[tt],_[tt+1],q,n);break}}else Gt(_)==="function"&&(H=_(q));L&&(E[it]=H)}return H},wt=function(){return E={}};D(t);var B=function(N){var C=F(vt(N));return P&&C[P]?C[P]():C};return B.classes=function(N){if(N!=null){if(Gt(N)==="array")m=N,d=[N[0],N[N.length-1]];else{var C=F.analyze(d);N===0?m=[C.min,C.max]:m=F.limits(C,"e",N)}return B}return m},B.domain=function(N){if(!arguments.length)return d;I=N[0],A=N[N.length-1],v=[];var C=_.length;if(N.length===C&&I!==A)for(var H=0,q=Array.from(N);H<q.length;H+=1){var _t=q[H];v.push((_t-I)/(A-I))}else{for(var it=0;it<C;it++)v.push(it/(C-1));if(N.length>2){var tt=N.map(function(ut,rt){return rt/(N.length-1)}),nt=N.map(function(ut){return(ut-I)/(A-I)});nt.every(function(ut,rt){return tt[rt]===ut})||(dt=function(ut){if(ut<=0||ut>=1)return ut;for(var rt=0;ut>=nt[rt+1];)rt++;var It=(ut-nt[rt])/(nt[rt+1]-nt[rt]),Dt=tt[rt]+It*(tt[rt+1]-tt[rt]);return Dt})}}return d=[I,A],B},B.mode=function(N){return arguments.length?(n=N,wt(),B):n},B.range=function(N,C){return D(N,C),B},B.out=function(N){return P=N,B},B.spread=function(N){return arguments.length?(o=N,B):o},B.correctLightness=function(N){return N==null&&(N=!0),R=N,wt(),R?et=function(C){for(var H=vt(0,!0).lab()[0],q=vt(1,!0).lab()[0],_t=H>q,it=vt(C,!0).lab()[0],tt=H+(q-H)*C,nt=it-tt,ut=0,rt=1,It=20;Math.abs(nt)>.01&&It-- >0;)(function(){return _t&&(nt*=-1),nt<0?(ut=C,C+=(rt-C)*.5):(rt=C,C+=(ut-C)*.5),it=vt(C,!0).lab()[0],nt=it-tt})();return C}:et=function(C){return C},B},B.padding=function(N){return N!=null?(Gt(N)==="number"&&(N=[N,N]),f=N,B):f},B.colors=function(N,C){arguments.length<2&&(C="hex");var H=[];if(arguments.length===0)H=_.slice(0);else if(N===1)H=[B(.5)];else if(N>1){var q=d[0],_t=d[1]-q;H=xa(0,N,!1).map(function(rt){return B(q+rt/(N-1)*_t)})}else{t=[];var it=[];if(m&&m.length>2)for(var tt=1,nt=m.length,ut=1<=nt;ut?tt<nt:tt>nt;ut?tt++:tt--)it.push((m[tt-1]+m[tt])*.5);else it=d;H=it.map(function(rt){return B(rt)})}return F[C]&&(H=H.map(function(rt){return rt[C]()})),H},B.cache=function(N){return N!=null?(L=N,B):L},B.gamma=function(N){return N!=null?(X=N,B):X},B.nodata=function(N){return N!=null?(r=F(N),B):r},B};function xa(t,n,r){for(var o=[],d=t<n,v=r?d?n+1:n-1:n,f=t;d?f<v:f>v;d?f++:f--)o.push(f);return o}var Pn=function(t){var n,r,o,d,v,f,m;if(t=t.map(function(A){return new w(A)}),t.length===2)n=t.map(function(A){return A.lab()}),v=n[0],f=n[1],d=function(A){var R=[0,1,2].map(function(E){return v[E]+A*(f[E]-v[E])});return new w(R,"lab")};else if(t.length===3)r=t.map(function(A){return A.lab()}),v=r[0],f=r[1],m=r[2],d=function(A){var R=[0,1,2].map(function(E){return(1-A)*(1-A)*v[E]+2*(1-A)*A*f[E]+A*A*m[E]});return new w(R,"lab")};else if(t.length===4){var _;o=t.map(function(A){return A.lab()}),v=o[0],f=o[1],m=o[2],_=o[3],d=function(A){var R=[0,1,2].map(function(E){return(1-A)*(1-A)*(1-A)*v[E]+3*(1-A)*(1-A)*A*f[E]+3*(1-A)*A*A*m[E]+A*A*A*_[E]});return new w(R,"lab")}}else if(t.length===5){var P=Pn(t.slice(0,3)),I=Pn(t.slice(2,5));d=function(A){return A<.5?P(A*2):I((A-.5)*2)}}return d},Ca=function(t){var n=Pn(t);return n.scale=function(){return en(n)},n},Mt=function(t,n,r){if(!Mt[r])throw new Error("unknown blend mode "+r);return Mt[r](t,n)},At=function(t){return function(n,r){var o=F(r).rgb(),d=F(n).rgb();return F.rgb(t(o,d))}},Ft=function(t){return function(n,r){var o=[];return o[0]=t(n[0],r[0]),o[1]=t(n[1],r[1]),o[2]=t(n[2],r[2]),o}},La=function(t){return t},Ga=function(t,n){return t*n/255},Da=function(t,n){return t>n?n:t},Oa=function(t,n){return t>n?t:n},qa=function(t,n){return 255*(1-(1-t/255)*(1-n/255))},Ua=function(t,n){return n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255))},Ya=function(t,n){return 255*(1-(1-n/255)/(t/255))},Xa=function(t,n){return t===255?255:(t=255*(n/255)/(1-t/255),t>255?255:t)};Mt.normal=At(Ft(La)),Mt.multiply=At(Ft(Ga)),Mt.screen=At(Ft(qa)),Mt.overlay=At(Ft(Ua)),Mt.darken=At(Ft(Da)),Mt.lighten=At(Ft(Oa)),Mt.dodge=At(Ft(Xa)),Mt.burn=At(Ft(Ya));for(var Ha=Mt,$n=p.type,Ba=p.clip_rgb,Va=p.TWOPI,Wa=Math.pow,Ka=Math.sin,Za=Math.cos,Qa=function(t,n,r,o,d){t===void 0&&(t=300),n===void 0&&(n=-1.5),r===void 0&&(r=1),o===void 0&&(o=1),d===void 0&&(d=[0,1]);var v=0,f;$n(d)==="array"?f=d[1]-d[0]:(f=0,d=[d,d]);var m=function(_){var P=Va*((t+120)/360+n*_),I=Wa(d[0]+f*_,o),A=v!==0?r[0]+_*v:r,R=A*I*(1-I)/2,E=Za(P),L=Ka(P),X=I+R*(-.14861*E+1.78277*L),D=I+R*(-.29227*E-.90649*L),Z=I+R*(1.97294*E);return F(Ba([X*255,D*255,Z*255,1]))};return m.start=function(_){return _==null?t:(t=_,m)},m.rotations=function(_){return _==null?n:(n=_,m)},m.gamma=function(_){return _==null?o:(o=_,m)},m.hue=function(_){return _==null?r:(r=_,$n(r)==="array"?(v=r[1]-r[0],v===0&&(r=r[1])):v=0,m)},m.lightness=function(_){return _==null?d:($n(_)==="array"?(d=_,f=_[1]-_[0]):(d=[_,_],f=0),m)},m.scale=function(){return F.scale(m)},m.hue(r),m},za="0123456789abcdef",Ja=Math.floor,ts=Math.random,ns=function(){for(var t="#",n=0;n<6;n++)t+=za.charAt(Ja(ts()*16));return new w(t,"hex")},ve=Math.log,es=Math.pow,rs=Math.floor,as=Math.abs,ge=function(t,n){n===void 0&&(n=null);var r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return c(t)==="object"&&(t=Object.values(t)),t.forEach(function(o){n&&c(o)==="object"&&(o=o[n]),o!=null&&!isNaN(o)&&(r.values.push(o),r.sum+=o,o<r.min&&(r.min=o),o>r.max&&(r.max=o),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(o,d){return be(r,o,d)},r},be=function(t,n,r){n===void 0&&(n="equal"),r===void 0&&(r=7),c(t)=="array"&&(t=ge(t));var o=t.min,d=t.max,v=t.values.sort(function(Tn,En){return Tn-En});if(r===1)return[o,d];var f=[];if(n.substr(0,1)==="c"&&(f.push(o),f.push(d)),n.substr(0,1)==="e"){f.push(o);for(var m=1;m<r;m++)f.push(o+m/r*(d-o));f.push(d)}else if(n.substr(0,1)==="l"){if(o<=0)throw new Error("Logarithmic scales are only possible for values > 0");var _=Math.LOG10E*ve(o),P=Math.LOG10E*ve(d);f.push(o);for(var I=1;I<r;I++)f.push(es(10,_+I/r*(P-_)));f.push(d)}else if(n.substr(0,1)==="q"){f.push(o);for(var A=1;A<r;A++){var R=(v.length-1)*A/r,E=rs(R);if(E===R)f.push(v[E]);else{var L=R-E;f.push(v[E]*(1-L)+v[E+1]*L)}}f.push(d)}else if(n.substr(0,1)==="k"){var X,D=v.length,Z=new Array(D),et=new Array(r),dt=!0,vt=0,wt=null;wt=[],wt.push(o);for(var B=1;B<r;B++)wt.push(o+B/r*(d-o));for(wt.push(d);dt;){for(var N=0;N<r;N++)et[N]=0;for(var C=0;C<D;C++)for(var H=v[C],q=Number.MAX_VALUE,_t=void 0,it=0;it<r;it++){var tt=as(wt[it]-H);tt<q&&(q=tt,_t=it),et[_t]++,Z[C]=_t}for(var nt=new Array(r),ut=0;ut<r;ut++)nt[ut]=null;for(var rt=0;rt<D;rt++)X=Z[rt],nt[X]===null?nt[X]=v[rt]:nt[X]+=v[rt];for(var It=0;It<r;It++)nt[It]*=1/et[It];dt=!1;for(var Dt=0;Dt<r;Dt++)if(nt[Dt]!==wt[Dt]){dt=!0;break}wt=nt,vt++,vt>200&&(dt=!1)}for(var Kt={},In=0;In<r;In++)Kt[In]=[];for(var sn=0;sn<D;sn++)X=Z[sn],Kt[X].push(v[sn]);for(var Nt=[],Zt=0;Zt<r;Zt++)Nt.push(Kt[Zt][0]),Nt.push(Kt[Zt][Kt[Zt].length-1]);Nt=Nt.sort(function(Tn,En){return Tn-En}),f.push(Nt[0]);for(var Nn=1;Nn<Nt.length;Nn+=2){var Sn=Nt[Nn];!isNaN(Sn)&&f.indexOf(Sn)===-1&&f.push(Sn)}}return f},pe={analyze:ge,limits:be},ss=function(t,n){t=new w(t),n=new w(n);var r=t.luminance(),o=n.luminance();return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)},rn=Math.sqrt,is=Math.atan2,me=Math.abs,_e=Math.cos,An=Math.PI,os=function(t,n,r,o){r===void 0&&(r=1),o===void 0&&(o=1),t=new w(t),n=new w(n);for(var d=Array.from(t.lab()),v=d[0],f=d[1],m=d[2],_=Array.from(n.lab()),P=_[0],I=_[1],A=_[2],R=rn(f*f+m*m),E=rn(I*I+A*A),L=v<16?.511:.040975*v/(1+.01765*v),X=.0638*R/(1+.0131*R)+.638,D=R<1e-6?0:is(m,f)*180/An;D<0;)D+=360;for(;D>=360;)D-=360;var Z=D>=164&&D<=345?.56+me(.2*_e(An*(D+168)/180)):.36+me(.4*_e(An*(D+35)/180)),et=R*R*R*R,dt=rn(et/(et+1900)),vt=X*(dt*Z+1-dt),wt=v-P,B=R-E,N=f-I,C=m-A,H=N*N+C*C-B*B,q=wt/(r*L),_t=B/(o*X),it=vt;return rn(q*q+_t*_t+H/(it*it))},ls=function(t,n,r){r===void 0&&(r="lab"),t=new w(t),n=new w(n);var o=t.get(r),d=n.get(r),v=0;for(var f in o){var m=(o[f]||0)-(d[f]||0);v+=m*m}return Math.sqrt(v)},cs=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];try{return new(Function.prototype.bind.apply(w,[null].concat(t))),!0}catch(r){return!1}},fs={cool:function(){return en([F.hsl(180,1,.9),F.hsl(250,.7,.4)])},hot:function(){return en(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}},an={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Fn=0,ye=Object.keys(an);Fn<ye.length;Fn+=1){var we=ye[Fn];an[we.toLowerCase()]=an[we]}var us=an;F.average=Ea,F.bezier=Ca,F.blend=Ha,F.cubehelix=Qa,F.mix=F.interpolate=ce,F.random=ns,F.scale=en,F.analyze=pe.analyze,F.contrast=ss,F.deltaE=os,F.distance=ls,F.limits=pe.limits,F.valid=cs,F.scales=fs,F.colors=Ct,F.brewer=us;var hs=F;return hs})});var st=Rn(on());var ke=Rn(on());function Me(g){let e=Object.values(g).filter(i=>isFinite(i)),a=Math.floor(Math.random()*e.length);return e[a]}function yt(g,e){g<0&&(g=0),e<0&&(e=0),g>e&&([g,e]=[e,g]);let a=e-g,i=Math.floor(Math.random()*(a+1));return g+i}function Ln(g,e,a,i,s){let[l,c]=[e/2,0],[u,b]=[e/2,a];if(Math.abs(s)!==90){let h=Math.tan(s*Math.PI/180),y=e/2,k=a/2,[S,T]=[y,h*y];T>k?[S,T]=[k/h,k]:T<-k&&([S,T]=[-k/h,-k]),[u,b]=[Math.round(S+e/2),Math.round(T+a/2)],[l,c]=[e-u,a-b],h<0&&([l,u]=[u,l],[c,b]=[b,c])}let M=i.length,p=g.createLinearGradient(l,c,u,b);return i.forEach((h,y)=>{p.addColorStop(y/(M-1),h)}),p}function Pe(g,e,a){let i=g.getImageData(e,a,1,1).data;return ke.default.rgb(i[0],i[1],i[2])}function Gn(g,e){g.moveTo(e[0][0],e[0][1]);for(let a=1;a<e.length;a++)g.lineTo(e[a][0],e[a][1])}var Ot=class{static random(e){switch(yt(1,7)){case 1:return this.chaos(e);case 2:return this.complementary(e);case 3:return this.monochromatic(e);case 4:return this.analogous(e);case 5:return this.triadic(e);case 6:return this.tetradic(e);case 7:default:return this.colorbrewer()}}static chaos(e){let i=[qt(e)],s=yt(4,10);for(let l=1;l<4;l++)i.push(ws(i[l-1]));return st.default.scale(i).mode("lch").correctLightness().colors(s)}static complementary(e){let a=qt(e),[i,s,l]=a.hsl(),c=st.default.hsl(i-180,s,l),u=yt(4,10);return st.default.scale([a,c]).mode("lch").correctLightness().colors(u)}static monochromatic(e){let a=qt(e),[i,s,l]=a.hsl(),c=yt(4,10),u=1/(c+1),b=[];for(let M=c;M>=1;M--)b.push(st.default.hsl(i,s,M*u).hex());return b}static analogous(e){let a=qt(e),[i,s,l]=a.hsl(),c=st.default.hsl(i+30,s,l),u=st.default.hsl(i+60,s,l),b=yt(4,10);return st.default.scale([a,c,u]).mode("lch").correctLightness().colors(b)}static triadic(e){let a=qt(e),[i,s,l]=a.hsl(),c=st.default.hsl(i+120,s,l),u=st.default.hsl(i+240,s,l),b=yt(4,10);return st.default.scale([a,c,u]).mode("lch").correctLightness().colors(b)}static tetradic(e){let a=qt(e),[i,s,l]=a.hsl(),c=st.default.hsl(i+90,s,l),u=st.default.hsl(i+180,s,l),b=st.default.hsl(i+270,s,l),M=yt(4,10);return st.default.scale([a,c,u,b]).mode("lch").correctLightness().colors(M)}static colorbrewer(e){let a=Object.keys(st.default.brewer);if(e!=null&&e in a)return st.default.brewer[e];{let i=Math.floor(Math.random()*a.length);return st.default.brewer[a[i]]}}static isValid(e){return!Array.isArray(e)||e.length<2?!1:e.every(a=>typeof a=="string"&&st.default.valid(a))}static luminance(e){return st.default.average(e,"lch").luminance()}};function qt(g){return st.default.valid(g)?(0,st.default)(g):st.default.random()}function ws(g){if(g==null)return st.default.random();let e=yt(1,3),[a,i,s]=g.hsl();switch(e){case 1:a=yt(1,360);case 2:i=Math.random();case 3:default:s=Math.random()}return st.default.hsl(a,i,s)}var On=Rn(on());var W=11102230246251565e-32,ht=134217729,Qt=(3+8*W)*W;function St(g,e,a,i,s){let l,c,u,b,M=e[0],p=i[0],h=0,y=0;p>M==p>-M?(l=M,M=e[++h]):(l=p,p=i[++y]);let k=0;if(h<g&&y<a)for(p>M==p>-M?(c=M+l,u=l-(c-M),M=e[++h]):(c=p+l,u=l-(c-p),p=i[++y]),l=c,u!==0&&(s[k++]=u);h<g&&y<a;)p>M==p>-M?(c=l+M,b=c-l,u=l-(c-b)+(M-b),M=e[++h]):(c=l+p,b=c-l,u=l-(c-b)+(p-b),p=i[++y]),l=c,u!==0&&(s[k++]=u);for(;h<g;)c=l+M,b=c-l,u=l-(c-b)+(M-b),M=e[++h],l=c,u!==0&&(s[k++]=u);for(;y<a;)c=l+p,b=c-l,u=l-(c-b)+(p-b),p=i[++y],l=c,u!==0&&(s[k++]=u);return(l!==0||k===0)&&(s[k++]=l),k}function zt(g,e){let a=e[0];for(let i=1;i<g;i++)a+=e[i];return a}function $(g){return new Float64Array(g)}var ks=(3+16*W)*W,Ms=(2+12*W)*W,Ps=(9+64*W)*W*W,Ut=$(4),$e=$(8),Ae=$(12),Fe=$(16),gt=$(4);function $s(g,e,a,i,s,l,c){let u,b,M,p,h,y,k,S,T,w,j,F,V,K,z,Q,ot,at,lt=g-s,x=a-s,G=e-l,O=i-l;K=lt*O,y=ht*lt,k=y-(y-lt),S=lt-k,y=ht*O,T=y-(y-O),w=O-T,z=S*w-(K-k*T-S*T-k*w),Q=G*x,y=ht*G,k=y-(y-G),S=G-k,y=ht*x,T=y-(y-x),w=x-T,ot=S*w-(Q-k*T-S*T-k*w),j=z-ot,h=z-j,Ut[0]=z-(j+h)+(h-ot),F=K+j,h=F-K,V=K-(F-h)+(j-h),j=V-Q,h=V-j,Ut[1]=V-(j+h)+(h-Q),at=F+j,h=at-F,Ut[2]=F-(at-h)+(j-h),Ut[3]=at;let U=zt(4,Ut),J=Ms*c;if(U>=J||-U>=J||(h=g-lt,u=g-(lt+h)+(h-s),h=a-x,M=a-(x+h)+(h-s),h=e-G,b=e-(G+h)+(h-l),h=i-O,p=i-(O+h)+(h-l),u===0&&b===0&&M===0&&p===0)||(J=Ps*c+Qt*Math.abs(U),U+=lt*p+O*u-(G*M+x*b),U>=J||-U>=J))return U;K=u*O,y=ht*u,k=y-(y-u),S=u-k,y=ht*O,T=y-(y-O),w=O-T,z=S*w-(K-k*T-S*T-k*w),Q=b*x,y=ht*b,k=y-(y-b),S=b-k,y=ht*x,T=y-(y-x),w=x-T,ot=S*w-(Q-k*T-S*T-k*w),j=z-ot,h=z-j,gt[0]=z-(j+h)+(h-ot),F=K+j,h=F-K,V=K-(F-h)+(j-h),j=V-Q,h=V-j,gt[1]=V-(j+h)+(h-Q),at=F+j,h=at-F,gt[2]=F-(at-h)+(j-h),gt[3]=at;let bt=St(4,Ut,4,gt,$e);K=lt*p,y=ht*lt,k=y-(y-lt),S=lt-k,y=ht*p,T=y-(y-p),w=p-T,z=S*w-(K-k*T-S*T-k*w),Q=G*M,y=ht*G,k=y-(y-G),S=G-k,y=ht*M,T=y-(y-M),w=M-T,ot=S*w-(Q-k*T-S*T-k*w),j=z-ot,h=z-j,gt[0]=z-(j+h)+(h-ot),F=K+j,h=F-K,V=K-(F-h)+(j-h),j=V-Q,h=V-j,gt[1]=V-(j+h)+(h-Q),at=F+j,h=at-F,gt[2]=F-(at-h)+(j-h),gt[3]=at;let ft=St(bt,$e,4,gt,Ae);K=u*p,y=ht*u,k=y-(y-u),S=u-k,y=ht*p,T=y-(y-p),w=p-T,z=S*w-(K-k*T-S*T-k*w),Q=b*M,y=ht*b,k=y-(y-b),S=b-k,y=ht*M,T=y-(y-M),w=M-T,ot=S*w-(Q-k*T-S*T-k*w),j=z-ot,h=z-j,gt[0]=z-(j+h)+(h-ot),F=K+j,h=F-K,V=K-(F-h)+(j-h),j=V-Q,h=V-j,gt[1]=V-(j+h)+(h-Q),at=F+j,h=at-F,gt[2]=F-(at-h)+(j-h),gt[3]=at;let Y=St(ft,Ae,4,gt,Fe);return Fe[Y-1]}function Yt(g,e,a,i,s,l){let c=(e-l)*(a-s),u=(g-s)*(i-l),b=c-u;if(c===0||u===0||c>0!=u>0)return b;let M=Math.abs(c+u);return Math.abs(b)>=ks*M?b:-$s(g,e,a,i,s,l,M)}var zs=(7+56*W)*W,Js=(3+28*W)*W,ti=(26+288*W)*W*W,ni=$(4),ei=$(4),ri=$(4),ai=$(4),si=$(4),ii=$(4),oi=$(4),li=$(4),ci=$(4),fi=$(8),ui=$(8),hi=$(8),di=$(4),vi=$(8),gi=$(8),bi=$(8),pi=$(12),mi=$(192),_i=$(192);var ki=(10+96*W)*W,Mi=(4+48*W)*W,Pi=(44+576*W)*W*W,$i=$(4),Ai=$(4),Fi=$(4),Ii=$(4),Ni=$(4),Si=$(4),Ti=$(4),Ei=$(4),ji=$(8),Ri=$(8),xi=$(8),Ci=$(8),Li=$(8),Gi=$(8),Di=$(8),Oi=$(8),qi=$(8),Ui=$(4),Yi=$(4),Xi=$(4),Hi=$(8),Bi=$(16),Vi=$(16),Wi=$(16),Ki=$(32),Zi=$(32),Qi=$(48),zi=$(64),Ji=$(1152),to=$(1152);var ao=(16+224*W)*W,so=(5+72*W)*W,io=(71+1408*W)*W*W,oo=$(4),lo=$(4),co=$(4),fo=$(4),uo=$(4),ho=$(4),vo=$(4),go=$(4),bo=$(4),po=$(4),mo=$(24),_o=$(24),yo=$(24),wo=$(24),ko=$(24),Mo=$(24),Po=$(24),$o=$(24),Ao=$(24),Fo=$(24),Io=$(1152),No=$(1152),So=$(1152),To=$(1152),Eo=$(1152),jo=$(2304),Ro=$(2304),xo=$(3456),Co=$(5760),Lo=$(8),Go=$(8),Do=$(8),Oo=$(16),qo=$(24),Uo=$(48),Yo=$(48),Xo=$(96),Ho=$(192),Bo=$(384),Vo=$(384),Wo=$(384),Ko=$(768);var Zo=$(96),Qo=$(96),zo=$(96),Jo=$(1152);var Ne=Math.pow(2,-52),ln=new Uint32Array(512),Tt=class{static from(e,a=Ts,i=Es){let s=e.length,l=new Float64Array(s*2);for(let c=0;c<s;c++){let u=e[c];l[2*c]=a(u),l[2*c+1]=i(u)}return new Tt(l)}constructor(e){let a=e.length>>1;if(a>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let i=Math.max(2*a-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(a)),this._hullPrev=new Uint32Array(a),this._hullNext=new Uint32Array(a),this._hullTri=new Uint32Array(a),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(a),this._dists=new Float64Array(a),this.update()}update(){let{coords:e,_hullPrev:a,_hullNext:i,_hullTri:s,_hullHash:l}=this,c=e.length>>1,u=1/0,b=1/0,M=-1/0,p=-1/0;for(let x=0;x<c;x++){let G=e[2*x],O=e[2*x+1];G<u&&(u=G),O<b&&(b=O),G>M&&(M=G),O>p&&(p=O),this._ids[x]=x}let h=(u+M)/2,y=(b+p)/2,k=1/0,S,T,w;for(let x=0;x<c;x++){let G=Dn(h,y,e[2*x],e[2*x+1]);G<k&&(S=x,k=G)}let j=e[2*S],F=e[2*S+1];k=1/0;for(let x=0;x<c;x++){if(x===S)continue;let G=Dn(j,F,e[2*x],e[2*x+1]);G<k&&G>0&&(T=x,k=G)}let V=e[2*T],K=e[2*T+1],z=1/0;for(let x=0;x<c;x++){if(x===S||x===T)continue;let G=Ns(j,F,V,K,e[2*x],e[2*x+1]);G<z&&(w=x,z=G)}let Q=e[2*w],ot=e[2*w+1];if(z===1/0){for(let O=0;O<c;O++)this._dists[O]=e[2*O]-e[0]||e[2*O+1]-e[1];Xt(this._ids,this._dists,0,c-1);let x=new Uint32Array(c),G=0;for(let O=0,U=-1/0;O<c;O++){let J=this._ids[O];this._dists[J]>U&&(x[G++]=J,U=this._dists[J])}this.hull=x.subarray(0,G),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Yt(j,F,V,K,Q,ot)<0){let x=T,G=V,O=K;T=w,V=Q,K=ot,w=x,Q=G,ot=O}let at=Ss(j,F,V,K,Q,ot);this._cx=at.x,this._cy=at.y;for(let x=0;x<c;x++)this._dists[x]=Dn(e[2*x],e[2*x+1],at.x,at.y);Xt(this._ids,this._dists,0,c-1),this._hullStart=S;let lt=3;i[S]=a[w]=T,i[T]=a[S]=w,i[w]=a[T]=S,s[S]=0,s[T]=1,s[w]=2,l.fill(-1),l[this._hashKey(j,F)]=S,l[this._hashKey(V,K)]=T,l[this._hashKey(Q,ot)]=w,this.trianglesLen=0,this._addTriangle(S,T,w,-1,-1,-1);for(let x=0,G,O;x<this._ids.length;x++){let U=this._ids[x],J=e[2*U],bt=e[2*U+1];if(x>0&&Math.abs(J-G)<=Ne&&Math.abs(bt-O)<=Ne||(G=J,O=bt,U===S||U===T||U===w))continue;let ft=0;for(let Bt=0,Vt=this._hashKey(J,bt);Bt<this._hashSize&&(ft=l[(Vt+Bt)%this._hashSize],!(ft!==-1&&ft!==i[ft]));Bt++);ft=a[ft];let Y=ft,ct;for(;ct=i[Y],Yt(J,bt,e[2*Y],e[2*Y+1],e[2*ct],e[2*ct+1])>=0;)if(Y=ct,Y===ft){Y=-1;break}if(Y===-1)continue;let $t=this._addTriangle(Y,U,i[Y],-1,-1,s[Y]);s[U]=this._legalize($t+2),s[Y]=$t,lt++;let kt=i[Y];for(;ct=i[kt],Yt(J,bt,e[2*kt],e[2*kt+1],e[2*ct],e[2*ct+1])<0;)$t=this._addTriangle(kt,U,ct,s[U],-1,s[kt]),s[U]=this._legalize($t+2),i[kt]=kt,lt--,kt=ct;if(Y===ft)for(;ct=a[Y],Yt(J,bt,e[2*ct],e[2*ct+1],e[2*Y],e[2*Y+1])<0;)$t=this._addTriangle(ct,U,Y,-1,s[Y],s[ct]),this._legalize($t+2),s[ct]=$t,i[Y]=Y,lt--,Y=ct;this._hullStart=a[U]=Y,i[Y]=a[kt]=U,i[U]=kt,l[this._hashKey(J,bt)]=U,l[this._hashKey(e[2*Y],e[2*Y+1])]=Y}this.hull=new Uint32Array(lt);for(let x=0,G=this._hullStart;x<lt;x++)this.hull[x]=G,G=i[G];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,a){return Math.floor(Fs(e-this._cx,a-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:a,_halfedges:i,coords:s}=this,l=0,c=0;for(;;){let u=i[e],b=e-e%3;if(c=b+(e+2)%3,u===-1){if(l===0)break;e=ln[--l];continue}let M=u-u%3,p=b+(e+1)%3,h=M+(u+2)%3,y=a[c],k=a[e],S=a[p],T=a[h];if(Is(s[2*y],s[2*y+1],s[2*k],s[2*k+1],s[2*S],s[2*S+1],s[2*T],s[2*T+1])){a[e]=T,a[u]=y;let j=i[h];if(j===-1){let V=this._hullStart;do{if(this._hullTri[V]===h){this._hullTri[V]=e;break}V=this._hullPrev[V]}while(V!==this._hullStart)}this._link(e,j),this._link(u,i[c]),this._link(c,h);let F=M+(u+1)%3;l<ln.length&&(ln[l++]=F)}else{if(l===0)break;e=ln[--l]}}return c}_link(e,a){this._halfedges[e]=a,a!==-1&&(this._halfedges[a]=e)}_addTriangle(e,a,i,s,l,c){let u=this.trianglesLen;return this._triangles[u]=e,this._triangles[u+1]=a,this._triangles[u+2]=i,this._link(u,s),this._link(u+1,l),this._link(u+2,c),this.trianglesLen+=3,u}};function Fs(g,e){let a=g/(Math.abs(g)+Math.abs(e));return(e>0?3-a:1+a)/4}function Dn(g,e,a,i){let s=g-a,l=e-i;return s*s+l*l}function Is(g,e,a,i,s,l,c,u){let b=g-c,M=e-u,p=a-c,h=i-u,y=s-c,k=l-u,S=b*b+M*M,T=p*p+h*h,w=y*y+k*k;return b*(h*w-T*k)-M*(p*w-T*y)+S*(p*k-h*y)<0}function Ns(g,e,a,i,s,l){let c=a-g,u=i-e,b=s-g,M=l-e,p=c*c+u*u,h=b*b+M*M,y=.5/(c*M-u*b),k=(M*p-u*h)*y,S=(c*h-b*p)*y;return k*k+S*S}function Ss(g,e,a,i,s,l){let c=a-g,u=i-e,b=s-g,M=l-e,p=c*c+u*u,h=b*b+M*M,y=.5/(c*M-u*b),k=g+(M*p-u*h)*y,S=e+(c*h-b*p)*y;return{x:k,y:S}}function Xt(g,e,a,i){if(i-a<=20)for(let s=a+1;s<=i;s++){let l=g[s],c=e[l],u=s-1;for(;u>=a&&e[g[u]]>c;)g[u+1]=g[u--];g[u+1]=l}else{let s=a+i>>1,l=a+1,c=i;Jt(g,s,l),e[g[a]]>e[g[i]]&&Jt(g,a,i),e[g[l]]>e[g[i]]&&Jt(g,l,i),e[g[a]]>e[g[l]]&&Jt(g,a,l);let u=g[l],b=e[u];for(;;){do l++;while(e[g[l]]<b);do c--;while(e[g[c]]>b);if(c<l)break;Jt(g,l,c)}g[a+1]=g[c],g[c]=u,i-l+1>=c-a?(Xt(g,e,l,i),Xt(g,e,a,c-1)):(Xt(g,e,a,c-1),Xt(g,e,l,i))}}function Jt(g,e,a){let i=g[e];g[e]=g[a],g[a]=i}function Ts(g){return g[0]}function Es(g){return g[1]}var Se=1e-6,Pt=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,a){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,a){this._+=`L${this._x1=+e},${this._y1=+a}`}arc(e,a,i){e=+e,a=+a,i=+i;let s=e+i,l=a;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${l}`:(Math.abs(this._x1-s)>Se||Math.abs(this._y1-l)>Se)&&(this._+="L"+s+","+l),!!i&&(this._+=`A${i},${i},0,1,1,${e-i},${a}A${i},${i},0,1,1,${this._x1=s},${this._y1=l}`)}rect(e,a,i,s){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+a}h${+i}v${+s}h${-i}Z`}value(){return this._||null}};var Et=class{constructor(){this._=[]}moveTo(e,a){this._.push([e,a])}closePath(){this._.push(this._[0].slice())}lineTo(e,a){this._.push([e,a])}value(){return this._.length?this._:null}};var cn=class{constructor(e,[a,i,s,l]=[0,0,960,500]){if(!((s=+s)>=(a=+a))||!((l=+l)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=s,this.xmin=a,this.ymax=l,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:a,triangles:i},vectors:s}=this,l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let k=0,S=0,T=i.length,w,j;k<T;k+=3,S+=2){let F=i[k]*2,V=i[k+1]*2,K=i[k+2]*2,z=e[F],Q=e[F+1],ot=e[V],at=e[V+1],lt=e[K],x=e[K+1],G=ot-z,O=at-Q,U=lt-z,J=x-Q,bt=(G*J-O*U)*2;if(Math.abs(bt)<1e-9){let ft=1e9,Y=i[0]*2;ft*=Math.sign((e[Y]-z)*J-(e[Y+1]-Q)*U),w=(z+lt)/2-ft*J,j=(Q+x)/2+ft*U}else{let ft=1/bt,Y=G*G+O*O,ct=U*U+J*J;w=z+(J*Y-O*ct)*ft,j=Q+(G*ct-U*Y)*ft}l[S]=w,l[S+1]=j}let c=a[a.length-1],u,b=c*4,M,p=e[2*c],h,y=e[2*c+1];s.fill(0);for(let k=0;k<a.length;++k)c=a[k],u=b,M=p,h=y,b=c*4,p=e[2*c],y=e[2*c+1],s[u+2]=s[b]=h-y,s[u+3]=s[b+1]=p-M}render(e){let a=e==null?e=new Pt:void 0,{delaunay:{halfedges:i,inedges:s,hull:l},circumcenters:c,vectors:u}=this;if(l.length<=1)return null;for(let p=0,h=i.length;p<h;++p){let y=i[p];if(y<p)continue;let k=Math.floor(p/3)*2,S=Math.floor(y/3)*2,T=c[k],w=c[k+1],j=c[S],F=c[S+1];this._renderSegment(T,w,j,F,e)}let b,M=l[l.length-1];for(let p=0;p<l.length;++p){b=M,M=l[p];let h=Math.floor(s[M]/3)*2,y=c[h],k=c[h+1],S=b*4,T=this._project(y,k,u[S+2],u[S+3]);T&&this._renderSegment(y,k,T[0],T[1],e)}return a&&a.value()}renderBounds(e){let a=e==null?e=new Pt:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),a&&a.value()}renderCell(e,a){let i=a==null?a=new Pt:void 0,s=this._clip(e);if(s===null||!s.length)return;a.moveTo(s[0],s[1]);let l=s.length;for(;s[0]===s[l-2]&&s[1]===s[l-1]&&l>1;)l-=2;for(let c=2;c<l;c+=2)(s[c]!==s[c-2]||s[c+1]!==s[c-1])&&a.lineTo(s[c],s[c+1]);return a.closePath(),i&&i.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let a=0,i=e.length/2;a<i;++a){let s=this.cellPolygon(a);s&&(s.index=a,yield s)}}cellPolygon(e){let a=new Et;return this.renderCell(e,a),a.value()}_renderSegment(e,a,i,s,l){let c,u=this._regioncode(e,a),b=this._regioncode(i,s);u===0&&b===0?(l.moveTo(e,a),l.lineTo(i,s)):(c=this._clipSegment(e,a,i,s,u,b))&&(l.moveTo(c[0],c[1]),l.lineTo(c[2],c[3]))}contains(e,a,i){return a=+a,a!==a||(i=+i,i!==i)?!1:this.delaunay._step(e,a,i)===e}*neighbors(e){let a=this._clip(e);if(a)for(let i of this.delaunay.neighbors(e)){let s=this._clip(i);if(s)t:for(let l=0,c=a.length;l<c;l+=2)for(let u=0,b=s.length;u<b;u+=2)if(a[l]==s[u]&&a[l+1]==s[u+1]&&a[(l+2)%c]==s[(u+b-2)%b]&&a[(l+3)%c]==s[(u+b-1)%b]){yield i;break t}}}_cell(e){let{circumcenters:a,delaunay:{inedges:i,halfedges:s,triangles:l}}=this,c=i[e];if(c===-1)return null;let u=[],b=c;do{let M=Math.floor(b/3);if(u.push(a[M*2],a[M*2+1]),b=b%3==2?b-2:b+1,l[b]!==e)break;b=s[b]}while(b!==c&&b!==-1);return u}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let a=this._cell(e);if(a===null)return null;let{vectors:i}=this,s=e*4;return i[s]||i[s+1]?this._clipInfinite(e,a,i[s],i[s+1],i[s+2],i[s+3]):this._clipFinite(e,a)}_clipFinite(e,a){let i=a.length,s=null,l,c,u=a[i-2],b=a[i-1],M,p=this._regioncode(u,b),h,y=0;for(let k=0;k<i;k+=2)if(l=u,c=b,u=a[k],b=a[k+1],M=p,p=this._regioncode(u,b),M===0&&p===0)h=y,y=0,s?s.push(u,b):s=[u,b];else{let S,T,w,j,F;if(M===0){if((S=this._clipSegment(l,c,u,b,M,p))===null)continue;[T,w,j,F]=S}else{if((S=this._clipSegment(u,b,l,c,p,M))===null)continue;[j,F,T,w]=S,h=y,y=this._edgecode(T,w),h&&y&&this._edge(e,h,y,s,s.length),s?s.push(T,w):s=[T,w]}h=y,y=this._edgecode(j,F),h&&y&&this._edge(e,h,y,s,s.length),s?s.push(j,F):s=[j,F]}if(s)h=y,y=this._edgecode(s[0],s[1]),h&&y&&this._edge(e,h,y,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,a,i,s,l,c){for(;;){if(l===0&&c===0)return[e,a,i,s];if(l&c)return null;let u,b,M=l||c;M&8?(u=e+(i-e)*(this.ymax-a)/(s-a),b=this.ymax):M&4?(u=e+(i-e)*(this.ymin-a)/(s-a),b=this.ymin):M&2?(b=a+(s-a)*(this.xmax-e)/(i-e),u=this.xmax):(b=a+(s-a)*(this.xmin-e)/(i-e),u=this.xmin),l?(e=u,a=b,l=this._regioncode(e,a)):(i=u,s=b,c=this._regioncode(i,s))}}_clipInfinite(e,a,i,s,l,c){let u=Array.from(a),b;if((b=this._project(u[0],u[1],i,s))&&u.unshift(b[0],b[1]),(b=this._project(u[u.length-2],u[u.length-1],l,c))&&u.push(b[0],b[1]),u=this._clipFinite(e,u))for(let M=0,p=u.length,h,y=this._edgecode(u[p-2],u[p-1]);M<p;M+=2)h=y,y=this._edgecode(u[M],u[M+1]),h&&y&&(M=this._edge(e,h,y,u,M),p=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(e,a,i,s,l){for(;a!==i;){let c,u;switch(a){case 5:a=4;continue;case 4:a=6,c=this.xmax,u=this.ymin;break;case 6:a=2;continue;case 2:a=10,c=this.xmax,u=this.ymax;break;case 10:a=8;continue;case 8:a=9,c=this.xmin,u=this.ymax;break;case 9:a=1;continue;case 1:a=5,c=this.xmin,u=this.ymin;break}(s[l]!==c||s[l+1]!==u)&&this.contains(e,c,u)&&(s.splice(l,0,c,u),l+=2)}if(s.length>4)for(let c=0;c<s.length;c+=2){let u=(c+2)%s.length,b=(c+4)%s.length;(s[c]===s[u]&&s[u]===s[b]||s[c+1]===s[u+1]&&s[u+1]===s[b+1])&&(s.splice(u,2),c-=2)}return l}_project(e,a,i,s){let l=1/0,c,u,b;if(s<0){if(a<=this.ymin)return null;(c=(this.ymin-a)/s)<l&&(b=this.ymin,u=e+(l=c)*i)}else if(s>0){if(a>=this.ymax)return null;(c=(this.ymax-a)/s)<l&&(b=this.ymax,u=e+(l=c)*i)}if(i>0){if(e>=this.xmax)return null;(c=(this.xmax-e)/i)<l&&(u=this.xmax,b=a+(l=c)*s)}else if(i<0){if(e<=this.xmin)return null;(c=(this.xmin-e)/i)<l&&(u=this.xmin,b=a+(l=c)*s)}return[u,b]}_edgecode(e,a){return(e===this.xmin?1:e===this.xmax?2:0)|(a===this.ymin?4:a===this.ymax?8:0)}_regioncode(e,a){return(e<this.xmin?1:e>this.xmax?2:0)|(a<this.ymin?4:a>this.ymax?8:0)}};var js=2*Math.PI,Ht=Math.pow;function Rs(g){return g[0]}function xs(g){return g[1]}function Cs(g){let{triangles:e,coords:a}=g;for(let i=0;i<e.length;i+=3){let s=2*e[i],l=2*e[i+1],c=2*e[i+2];if((a[c]-a[s])*(a[l+1]-a[s+1])-(a[l]-a[s])*(a[c+1]-a[s+1])>1e-10)return!1}return!0}function Ls(g,e,a){return[g+Math.sin(g+e)*a,e+Math.cos(g-e)*a]}var jt=class{static from(e,a=Rs,i=xs,s){return new jt("length"in e?Gs(e,a,i,s):Float64Array.from(Ds(e,a,i,s)))}constructor(e){this._delaunator=new Tt(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,a=this.points;if(e.hull&&e.hull.length>2&&Cs(e)){this.collinear=Int32Array.from({length:a.length/2},(y,k)=>k).sort((y,k)=>a[2*y]-a[2*k]||a[2*y+1]-a[2*k+1]);let b=this.collinear[0],M=this.collinear[this.collinear.length-1],p=[a[2*b],a[2*b+1],a[2*M],a[2*M+1]],h=1e-8*Math.hypot(p[3]-p[1],p[2]-p[0]);for(let y=0,k=a.length/2;y<k;++y){let S=Ls(a[2*y],a[2*y+1],h);a[2*y]=S[0],a[2*y+1]=S[1]}this._delaunator=new Tt(a)}else delete this.collinear;let i=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,c=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let b=0,M=i.length;b<M;++b){let p=l[b%3==2?b-2:b+1];(i[b]===-1||c[p]===-1)&&(c[p]=b)}for(let b=0,M=s.length;b<M;++b)u[s[b]]=b;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],c[s[0]]=1,s.length===2&&(c[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(e){return new cn(this,e)}*neighbors(e){let{inedges:a,hull:i,_hullIndex:s,halfedges:l,triangles:c,collinear:u}=this;if(u){let h=u.indexOf(e);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}let b=a[e];if(b===-1)return;let M=b,p=-1;do{if(yield p=c[M],M=M%3==2?M-2:M+1,c[M]!==e)return;if(M=l[M],M===-1){let h=i[(s[e]+1)%i.length];h!==p&&(yield h);return}}while(M!==b)}find(e,a,i=0){if(e=+e,e!==e||(a=+a,a!==a))return-1;let s=i,l;for(;(l=this._step(i,e,a))>=0&&l!==i&&l!==s;)i=l;return l}_step(e,a,i){let{inedges:s,hull:l,_hullIndex:c,halfedges:u,triangles:b,points:M}=this;if(s[e]===-1||!M.length)return(e+1)%(M.length>>1);let p=e,h=Ht(a-M[e*2],2)+Ht(i-M[e*2+1],2),y=s[e],k=y;do{let S=b[k],T=Ht(a-M[S*2],2)+Ht(i-M[S*2+1],2);if(T<h&&(h=T,p=S),k=k%3==2?k-2:k+1,b[k]!==e)break;if(k=u[k],k===-1){if(k=l[(c[e]+1)%l.length],k!==S&&Ht(a-M[k*2],2)+Ht(i-M[k*2+1],2)<h)return k;break}}while(k!==y);return p}render(e){let a=e==null?e=new Pt:void 0,{points:i,halfedges:s,triangles:l}=this;for(let c=0,u=s.length;c<u;++c){let b=s[c];if(b<c)continue;let M=l[c]*2,p=l[b]*2;e.moveTo(i[M],i[M+1]),e.lineTo(i[p],i[p+1])}return this.renderHull(e),a&&a.value()}renderPoints(e,a){a===void 0&&(!e||typeof e.moveTo!="function")&&(a=e,e=null),a=a==null?2:+a;let i=e==null?e=new Pt:void 0,{points:s}=this;for(let l=0,c=s.length;l<c;l+=2){let u=s[l],b=s[l+1];e.moveTo(u+a,b),e.arc(u,b,a,0,js)}return i&&i.value()}renderHull(e){let a=e==null?e=new Pt:void 0,{hull:i,points:s}=this,l=i[0]*2,c=i.length;e.moveTo(s[l],s[l+1]);for(let u=1;u<c;++u){let b=2*i[u];e.lineTo(s[b],s[b+1])}return e.closePath(),a&&a.value()}hullPolygon(){let e=new Et;return this.renderHull(e),e.value()}renderTriangle(e,a){let i=a==null?a=new Pt:void 0,{points:s,triangles:l}=this,c=l[e*=3]*2,u=l[e+1]*2,b=l[e+2]*2;return a.moveTo(s[c],s[c+1]),a.lineTo(s[u],s[u+1]),a.lineTo(s[b],s[b+1]),a.closePath(),i&&i.value()}*trianglePolygons(){let{triangles:e}=this;for(let a=0,i=e.length/3;a<i;++a)yield this.trianglePolygon(a)}trianglePolygon(e){let a=new Et;return this.renderTriangle(e,a),a.value()}};function Gs(g,e,a,i){let s=g.length,l=new Float64Array(s*2);for(let c=0;c<s;++c){let u=g[c];l[c*2]=e.call(i,u,c,g),l[c*2+1]=a.call(i,u,c,g)}return l}function*Ds(g,e,a,i){let s=0;for(let l of g)yield e.call(i,l,s,g),yield a.call(i,l,s,g),++s}var fn;(function(a){a[a.Uniform=0]="Uniform",a[a.Grid=1]="Grid"})(fn||(fn={}));function Te(g,e,a){return a==null&&(a={type:Me(fn)}),a.type===0?Os(g,e,a):qs(g,e,a)}function Os(g,e,a){g<0&&(g=0),e<0&&(e=0);let i=a.cellSize;(i==null||i<=0)&&(i=Ee(g,e));let s=Math.max(Math.min(g,e)/2,i),l=g+2*s,c=e+2*s,u=Math.ceil(c/i),b=Math.ceil(l/i),M=u*b,p=[];for(let h=0;h<M;h++){let y=Math.round(Math.random()*l-s),k=Math.round(Math.random()*c-s);p.push([y,k])}return p}function qs(g,e,a){g<0&&(g=0),e<0&&(e=0);let i=a.variance;i<0?i=0:i>1?i=1:i==null&&(i=Math.random());let s=a.cellSize;(s==null||s<=0)&&(s=Ee(g,e));let l=Math.max(Math.min(g,e)/2,s),[c,u]=[-l,g+l],[b,M]=[-l,e+l],p=()=>{let y=Math.round(Math.random()),k=Math.round(Math.random()*s*i);return y===1?k:-k},h=[];for(let y=c;y<=u;y+=s)for(let k=b;k<=M;k+=s)h.push([y+p(),k+p()]);return h}function Ee(g,e){let a=Math.min(g,e),i=Math.min(a,50),s=Math.floor(a/5);return yt(i,s)}function Us(g,e){je(g,e,!1)}function Ys(g,e){je(g,e,!0)}function je(g,e,a){Ot.isValid(e.palette)||(e.palette=Ot.random());let i=e.gradientAngle;if((typeof i!="number"||!isFinite(i))&&(i=yt(0,360)),i<0)for(;i<0;)i+=360;else if(i>360)for(;i>360;)i-=360;let{width:s,height:l,palette:c}={...e},u=Ln(g,s,l,c,i),b=Te(s,l,e.points),M=jt.from(b),p;if(a?p=[...M.voronoi([0,0,s,l]).cellPolygons()]:p=[...M.trianglePolygons()],p=p.filter(h=>h.some(y=>{let[k,S]=[y[0],y[1]];return k>=0&&k<=s&&S>=0&&S<=l})),g.lineWidth=e.lineWidth||0,g.fillStyle=u,g.strokeStyle=u,e.lineOnly!==!0){if(g.lineWidth>0){let h=Ot.luminance(c)>=.5?S=>(0,On.default)(S).darken().hex():S=>(0,On.default)(S).brighten().hex(),y=c.map(h),k=Ln(g,s,l,y,i);g.strokeStyle=k}g.fillRect(0,0,s,l),p.forEach(h=>{let y=(h[0][0]+h[1][0]+h[2][0])/3;y<=0?y=1:y>=s&&(y=s-1);let k=(h[0][1]+h[1][1]+h[2][1])/3;k<=0?k=1:k>=l&&(k=l-1),g.beginPath(),g.fillStyle=Pe(g,y,k).hex(),Gn(g,h),g.fill()})}g.lineWidth>0&&(g.beginPath(),p.forEach(h=>Gn(g,h)),g.stroke())}export{Ot as Palette,Us as Triangle,Ys as Voronoi};
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
