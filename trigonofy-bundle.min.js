var hs=Object.create;var jn=Object.defineProperty;var ds=Object.getOwnPropertyDescriptor;var vs=Object.getOwnPropertyNames;var bs=Object.getPrototypeOf,gs=Object.prototype.hasOwnProperty;var ps=g=>jn(g,"__esModule",{value:!0});var ms=(g,e)=>()=>(e||g((e={exports:{}}).exports,e),e.exports);var _s=(g,e,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vs(e))!gs.call(g,i)&&i!=="default"&&jn(g,i,{get:()=>e[i],enumerable:!(a=ds(e,i))||a.enumerable});return g},we=g=>_s(ps(jn(g!=null?hs(bs(g)):{},"default",g&&g.__esModule&&"default"in g?{get:()=>g.default,enumerable:!0}:{value:g,enumerable:!0})),g);var Ln=ms((Cn,Sn)=>{(function(g,e){typeof Cn=="object"&&typeof Sn!="undefined"?Sn.exports=e():typeof define=="function"&&define.amd?define(e):g.chroma=e()})(Cn,function(){"use strict";for(var g=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=1),t<n?n:t>r?r:t},e=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=g(t[n],0,255)):n===3&&(t[n]=g(t[n],0,1));return t},a={},i=0,s=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<s.length;i+=1){var l=s[i];a["[object "+l+"]"]=l.toLowerCase()}var c=function(t){return a[Object.prototype.toString.call(t)]||"object"},f=function(t,n){return n===void 0&&(n=null),t.length>=3?Array.prototype.slice.call(t):c(t[0])=="object"&&n?n.split("").filter(function(r){return t[0][r]!==void 0}).map(function(r){return t[0][r]}):t[0]},v=function(t){if(t.length<2)return null;var n=t.length-1;return c(t[n])=="string"?t[n].toLowerCase():null},w=Math.PI,p={clip_rgb:e,limit:g,type:c,unpack:f,last:v,PI:w,TWOPI:w*2,PITHIRD:w/3,DEG2RAD:w/180,RAD2DEG:180/w},b={format:{},autodetect:[]},k=p.last,M=p.clip_rgb,T=p.type,E=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o=this;if(T(n[0])==="object"&&n[0].constructor&&n[0].constructor===this.constructor)return n[0];var h=k(n),d=!1;if(!h){d=!0,b.sorted||(b.autodetect=b.autodetect.sort(function(I,A){return A.p-I.p}),b.sorted=!0);for(var u=0,m=b.autodetect;u<m.length;u+=1){var _=m[u];if(h=_.test.apply(_,n),h)break}}if(b.format[h]){var P=b.format[h].apply(null,d?n:n.slice(0,-1));o._rgb=M(P)}else throw new Error("unknown format: "+n);o._rgb.length===3&&o._rgb.push(1)};E.prototype.toString=function(){return T(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var y=E,j=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(j.Color,[null].concat(t)))};j.Color=y,j.version="2.1.2";var F=j,V=p.unpack,K=Math.max,J=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=V(t,"rgb"),o=r[0],h=r[1],d=r[2];o=o/255,h=h/255,d=d/255;var u=1-K(o,K(h,d)),m=u<1?1/(1-u):0,_=(1-o-u)*m,P=(1-h-u)*m,I=(1-d-u)*m;return[_,P,I,u]},Q=J,ot=p.unpack,at=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=ot(t,"cmyk");var r=t[0],o=t[1],h=t[2],d=t[3],u=t.length>4?t[4]:1;return d===1?[0,0,0,u]:[r>=1?0:255*(1-r)*(1-d),o>=1?0:255*(1-o)*(1-d),h>=1?0:255*(1-h)*(1-d),u]},lt=at,S=p.unpack,D=p.type;y.prototype.cmyk=function(){return Q(this._rgb)},F.cmyk=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["cmyk"])))},b.format.cmyk=lt,b.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=S(t,"cmyk"),D(t)==="array"&&t.length===4)return"cmyk"}});var O=p.unpack,Y=p.last,z=function(t){return Math.round(t*100)/100},pt=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=O(t,"hsla"),o=Y(t)||"lsa";return r[0]=z(r[0]||0),r[1]=z(r[1]*100)+"%",r[2]=z(r[2]*100)+"%",o==="hsla"||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,o="hsla"):r.length=3,o+"("+r.join(",")+")"},ft=pt,X=p.unpack,ct=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=X(t,"rgba");var r=t[0],o=t[1],h=t[2];r/=255,o/=255,h/=255;var d=Math.min(r,o,h),u=Math.max(r,o,h),m=(u+d)/2,_,P;return u===d?(_=0,P=Number.NaN):_=m<.5?(u-d)/(u+d):(u-d)/(2-u-d),r==u?P=(o-h)/(u-d):o==u?P=2+(h-r)/(u-d):h==u&&(P=4+(r-o)/(u-d)),P*=60,P<0&&(P+=360),t.length>3&&t[3]!==void 0?[P,_,m,t[3]]:[P,_,m]},$t=ct,kt=p.unpack,Bt=p.last,Ut=Math.round,je=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=kt(t,"rgba"),o=Bt(t)||"rgb";return o.substr(0,3)=="hsl"?ft($t(r),o):(r[0]=Ut(r[0]),r[1]=Ut(r[1]),r[2]=Ut(r[2]),(o==="rgba"||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,o="rgba"),o+"("+r.slice(0,o==="rgb"?3:4).join(",")+")")},Ce=je,Se=p.unpack,un=Math.round,Le=function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];n=Se(n,"hsl");var o=n[0],h=n[1],d=n[2],u,m,_;if(h===0)u=m=_=d*255;else{var P=[0,0,0],I=[0,0,0],A=d<.5?d*(1+h):d+h-d*h,C=2*d-A,R=o/360;P[0]=R+1/3,P[1]=R,P[2]=R-1/3;for(var G=0;G<3;G++)P[G]<0&&(P[G]+=1),P[G]>1&&(P[G]-=1),6*P[G]<1?I[G]=C+(A-C)*6*P[G]:2*P[G]<1?I[G]=A:3*P[G]<2?I[G]=C+(A-C)*(2/3-P[G])*6:I[G]=C;t=[un(I[0]*255),un(I[1]*255),un(I[2]*255)],u=t[0],m=t[1],_=t[2]}return n.length>3?[u,m,_,n[3]]:[u,m,_,1]},hn=Le,xn=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,On=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,qn=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Yn=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Xn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Hn=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Bn=Math.round,Un=function(t){t=t.toLowerCase().trim();var n;if(b.format.named)try{return b.format.named(t)}catch(G){}if(n=t.match(xn)){for(var r=n.slice(1,4),o=0;o<3;o++)r[o]=+r[o];return r[3]=1,r}if(n=t.match(On)){for(var h=n.slice(1,5),d=0;d<4;d++)h[d]=+h[d];return h}if(n=t.match(qn)){for(var u=n.slice(1,4),m=0;m<3;m++)u[m]=Bn(u[m]*2.55);return u[3]=1,u}if(n=t.match(Yn)){for(var _=n.slice(1,5),P=0;P<3;P++)_[P]=Bn(_[P]*2.55);return _[3]=+_[3],_}if(n=t.match(Xn)){var I=n.slice(1,4);I[1]*=.01,I[2]*=.01;var A=hn(I);return A[3]=1,A}if(n=t.match(Hn)){var C=n.slice(1,4);C[1]*=.01,C[2]*=.01;var R=hn(C);return R[3]=+n[4],R}};Un.test=function(t){return xn.test(t)||On.test(t)||qn.test(t)||Yn.test(t)||Xn.test(t)||Hn.test(t)};var Vn=Un,Ge=p.type;y.prototype.css=function(t){return Ce(this._rgb,t)},F.css=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["css"])))},b.format.css=Vn,b.autodetect.push({p:5,test:function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];if(!n.length&&Ge(t)==="string"&&Vn.test(t))return"css"}});var De=p.unpack;b.format.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=De(t,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},F.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["gl"])))},y.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var xe=p.unpack,Oe=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=xe(t,"rgb"),o=r[0],h=r[1],d=r[2],u=Math.min(o,h,d),m=Math.max(o,h,d),_=m-u,P=_*100/255,I=u/(255-_)*100,A;return _===0?A=Number.NaN:(o===m&&(A=(h-d)/_),h===m&&(A=2+(d-o)/_),d===m&&(A=4+(o-h)/_),A*=60,A<0&&(A+=360)),[A,P,I]},qe=Oe,Ye=p.unpack,Xe=Math.floor,He=function(){for(var t,n,r,o,h,d,u=[],m=arguments.length;m--;)u[m]=arguments[m];u=Ye(u,"hcg");var _=u[0],P=u[1],I=u[2],A,C,R;I=I*255;var G=P*255;if(P===0)A=C=R=I;else{_===360&&(_=0),_>360&&(_-=360),_<0&&(_+=360),_/=60;var H=Xe(_),x=_-H,Z=I*(1-P),et=Z+G*(1-x),dt=Z+G*x,vt=Z+G;switch(H){case 0:t=[vt,dt,Z],A=t[0],C=t[1],R=t[2];break;case 1:n=[et,vt,Z],A=n[0],C=n[1],R=n[2];break;case 2:r=[Z,vt,dt],A=r[0],C=r[1],R=r[2];break;case 3:o=[Z,et,vt],A=o[0],C=o[1],R=o[2];break;case 4:h=[dt,Z,vt],A=h[0],C=h[1],R=h[2];break;case 5:d=[vt,Z,et],A=d[0],C=d[1],R=d[2];break}}return[A,C,R,u.length>3?u[3]:1]},Be=He,Ue=p.unpack,Ve=p.type;y.prototype.hcg=function(){return qe(this._rgb)},F.hcg=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["hcg"])))},b.format.hcg=Be,b.autodetect.push({p:1,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Ue(t,"hcg"),Ve(t)==="array"&&t.length===3)return"hcg"}});var We=p.unpack,Ke=p.last,tn=Math.round,Ze=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=We(t,"rgba"),o=r[0],h=r[1],d=r[2],u=r[3],m=Ke(t)||"auto";u===void 0&&(u=1),m==="auto"&&(m=u<1?"rgba":"rgb"),o=tn(o),h=tn(h),d=tn(d);var _=o<<16|h<<8|d,P="000000"+_.toString(16);P=P.substr(P.length-6);var I="0"+tn(u*255).toString(16);switch(I=I.substr(I.length-2),m.toLowerCase()){case"rgba":return"#"+P+I;case"argb":return"#"+I+P;default:return"#"+P}},Wn=Ze,Qe=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Je=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ze=function(t){if(t.match(Qe)){(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16),r=n>>16,o=n>>8&255,h=n&255;return[r,o,h,1]}if(t.match(Je)){(t.length===5||t.length===9)&&(t=t.substr(1)),t.length===4&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var d=parseInt(t,16),u=d>>24&255,m=d>>16&255,_=d>>8&255,P=Math.round((d&255)/255*100)/100;return[u,m,_,P]}throw new Error("unknown hex color: "+t)},Kn=ze,tr=p.type;y.prototype.hex=function(t){return Wn(this._rgb,t)},F.hex=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["hex"])))},b.format.hex=Kn,b.autodetect.push({p:4,test:function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];if(!n.length&&tr(t)==="string"&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var nr=p.unpack,Zn=p.TWOPI,er=Math.min,rr=Math.sqrt,ar=Math.acos,sr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=nr(t,"rgb"),o=r[0],h=r[1],d=r[2];o/=255,h/=255,d/=255;var u,m=er(o,h,d),_=(o+h+d)/3,P=_>0?1-m/_:0;return P===0?u=NaN:(u=(o-h+(o-d))/2,u/=rr((o-h)*(o-h)+(o-d)*(h-d)),u=ar(u),d>h&&(u=Zn-u),u/=Zn),[u*360,P,_]},ir=sr,or=p.unpack,dn=p.limit,Ct=p.TWOPI,vn=p.PITHIRD,St=Math.cos,lr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=or(t,"hsi");var r=t[0],o=t[1],h=t[2],d,u,m;return isNaN(r)&&(r=0),isNaN(o)&&(o=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(m=(1-o)/3,d=(1+o*St(Ct*r)/St(vn-Ct*r))/3,u=1-(m+d)):r<2/3?(r-=1/3,d=(1-o)/3,u=(1+o*St(Ct*r)/St(vn-Ct*r))/3,m=1-(d+u)):(r-=2/3,u=(1-o)/3,m=(1+o*St(Ct*r)/St(vn-Ct*r))/3,d=1-(u+m)),d=dn(h*d*3),u=dn(h*u*3),m=dn(h*m*3),[d*255,u*255,m*255,t.length>3?t[3]:1]},cr=lr,fr=p.unpack,ur=p.type;y.prototype.hsi=function(){return ir(this._rgb)},F.hsi=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["hsi"])))},b.format.hsi=cr,b.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=fr(t,"hsi"),ur(t)==="array"&&t.length===3)return"hsi"}});var hr=p.unpack,dr=p.type;y.prototype.hsl=function(){return $t(this._rgb)},F.hsl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["hsl"])))},b.format.hsl=hn,b.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=hr(t,"hsl"),dr(t)==="array"&&t.length===3)return"hsl"}});var vr=p.unpack,br=Math.min,gr=Math.max,pr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=vr(t,"rgb");var r=t[0],o=t[1],h=t[2],d=br(r,o,h),u=gr(r,o,h),m=u-d,_,P,I;return I=u/255,u===0?(_=Number.NaN,P=0):(P=m/u,r===u&&(_=(o-h)/m),o===u&&(_=2+(h-r)/m),h===u&&(_=4+(r-o)/m),_*=60,_<0&&(_+=360)),[_,P,I]},mr=pr,_r=p.unpack,wr=Math.floor,yr=function(){for(var t,n,r,o,h,d,u=[],m=arguments.length;m--;)u[m]=arguments[m];u=_r(u,"hsv");var _=u[0],P=u[1],I=u[2],A,C,R;if(I*=255,P===0)A=C=R=I;else{_===360&&(_=0),_>360&&(_-=360),_<0&&(_+=360),_/=60;var G=wr(_),H=_-G,x=I*(1-P),Z=I*(1-P*H),et=I*(1-P*(1-H));switch(G){case 0:t=[I,et,x],A=t[0],C=t[1],R=t[2];break;case 1:n=[Z,I,x],A=n[0],C=n[1],R=n[2];break;case 2:r=[x,I,et],A=r[0],C=r[1],R=r[2];break;case 3:o=[x,Z,I],A=o[0],C=o[1],R=o[2];break;case 4:h=[et,x,I],A=h[0],C=h[1],R=h[2];break;case 5:d=[I,x,Z],A=d[0],C=d[1],R=d[2];break}}return[A,C,R,u.length>3?u[3]:1]},kr=yr,Mr=p.unpack,Pr=p.type;y.prototype.hsv=function(){return mr(this._rgb)},F.hsv=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["hsv"])))},b.format.hsv=kr,b.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Mr(t,"hsv"),Pr(t)==="array"&&t.length===3)return"hsv"}});var mt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},$r=p.unpack,Qn=Math.pow,Ar=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=$r(t,"rgb"),o=r[0],h=r[1],d=r[2],u=Fr(o,h,d),m=u[0],_=u[1],P=u[2],I=116*_-16;return[I<0?0:I,500*(m-_),200*(_-P)]},bn=function(t){return(t/=255)<=.04045?t/12.92:Qn((t+.055)/1.055,2.4)},gn=function(t){return t>mt.t3?Qn(t,1/3):t/mt.t2+mt.t0},Fr=function(t,n,r){t=bn(t),n=bn(n),r=bn(r);var o=gn((.4124564*t+.3575761*n+.1804375*r)/mt.Xn),h=gn((.2126729*t+.7151522*n+.072175*r)/mt.Yn),d=gn((.0193339*t+.119192*n+.9503041*r)/mt.Zn);return[o,h,d]},Jn=Ar,Ir=p.unpack,Nr=Math.pow,Tr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=Ir(t,"lab");var r=t[0],o=t[1],h=t[2],d,u,m,_,P,I;return u=(r+16)/116,d=isNaN(o)?u:u+o/500,m=isNaN(h)?u:u-h/200,u=mt.Yn*mn(u),d=mt.Xn*mn(d),m=mt.Zn*mn(m),_=pn(3.2404542*d-1.5371385*u-.4985314*m),P=pn(-.969266*d+1.8760108*u+.041556*m),I=pn(.0556434*d-.2040259*u+1.0572252*m),[_,P,I,t.length>3?t[3]:1]},pn=function(t){return 255*(t<=.00304?12.92*t:1.055*Nr(t,1/2.4)-.055)},mn=function(t){return t>mt.t1?t*t*t:mt.t2*(t-mt.t0)},zn=Tr,Er=p.unpack,Rr=p.type;y.prototype.lab=function(){return Jn(this._rgb)},F.lab=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["lab"])))},b.format.lab=zn,b.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Er(t,"lab"),Rr(t)==="array"&&t.length===3)return"lab"}});var jr=p.unpack,Cr=p.RAD2DEG,Sr=Math.sqrt,Lr=Math.atan2,Gr=Math.round,Dr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=jr(t,"lab"),o=r[0],h=r[1],d=r[2],u=Sr(h*h+d*d),m=(Lr(d,h)*Cr+360)%360;return Gr(u*1e4)===0&&(m=Number.NaN),[o,u,m]},xr=Dr,Or=p.unpack,qr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Or(t,"rgb"),o=r[0],h=r[1],d=r[2],u=Jn(o,h,d),m=u[0],_=u[1],P=u[2];return xr(m,_,P)},te=qr,Yr=p.unpack,Xr=p.DEG2RAD,Hr=Math.sin,Br=Math.cos,Ur=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Yr(t,"lch"),o=r[0],h=r[1],d=r[2];return isNaN(d)&&(d=0),d=d*Xr,[o,Br(d)*h,Hr(d)*h]},Vr=Ur,Wr=p.unpack,Kr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];t=Wr(t,"lch");var r=t[0],o=t[1],h=t[2],d=Vr(r,o,h),u=d[0],m=d[1],_=d[2],P=zn(u,m,_),I=P[0],A=P[1],C=P[2];return[I,A,C,t.length>3?t[3]:1]},ne=Kr,Zr=p.unpack,Qr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=Zr(t,"hcl").reverse();return ne.apply(void 0,r)},Jr=Qr,zr=p.unpack,ta=p.type;y.prototype.lch=function(){return te(this._rgb)},y.prototype.hcl=function(){return te(this._rgb).reverse()},F.lch=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["lch"])))},F.hcl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["hcl"])))},b.format.lch=ne,b.format.hcl=Jr,["lch","hcl"].forEach(function(t){return b.autodetect.push({p:2,test:function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(n=zr(n,t),ta(n)==="array"&&n.length===3)return t}})});var na={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Lt=na,ea=p.type;y.prototype.name=function(){for(var t=Wn(this._rgb,"rgb"),n=0,r=Object.keys(Lt);n<r.length;n+=1){var o=r[n];if(Lt[o]===t)return o.toLowerCase()}return t},b.format.named=function(t){if(t=t.toLowerCase(),Lt[t])return Kn(Lt[t]);throw new Error("unknown color name: "+t)},b.autodetect.push({p:5,test:function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];if(!n.length&&ea(t)==="string"&&Lt[t.toLowerCase()])return"named"}});var ra=p.unpack,aa=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=ra(t,"rgb"),o=r[0],h=r[1],d=r[2];return(o<<16)+(h<<8)+d},sa=aa,ia=p.type,oa=function(t){if(ia(t)=="number"&&t>=0&&t<=16777215){var n=t>>16,r=t>>8&255,o=t&255;return[n,r,o,1]}throw new Error("unknown num color: "+t)},la=oa,ca=p.type;y.prototype.num=function(){return sa(this._rgb)},F.num=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["num"])))},b.format.num=la,b.autodetect.push({p:5,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length===1&&ca(t[0])==="number"&&t[0]>=0&&t[0]<=16777215)return"num"}});var ee=p.unpack,re=p.type,ae=Math.round;y.prototype.rgb=function(t){return t===void 0&&(t=!0),t===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ae)},y.prototype.rgba=function(t){return t===void 0&&(t=!0),this._rgb.slice(0,4).map(function(n,r){return r<3?t===!1?n:ae(n):n})},F.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["rgb"])))},b.format.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=ee(t,"rgba");return r[3]===void 0&&(r[3]=1),r},b.autodetect.push({p:3,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=ee(t,"rgba"),re(t)==="array"&&(t.length===3||t.length===4&&re(t[3])=="number"&&t[3]>=0&&t[3]<=1))return"rgb"}});var nn=Math.log,fa=function(t){var n=t/100,r,o,h;return n<66?(r=255,o=-155.25485562709179-.44596950469579133*(o=n-2)+104.49216199393888*nn(o),h=n<20?0:-254.76935184120902+.8274096064007395*(h=n-10)+115.67994401066147*nn(h)):(r=351.97690566805693+.114206453784165*(r=n-55)-40.25366309332127*nn(r),o=325.4494125711974+.07943456536662342*(o=n-50)-28.0852963507957*nn(o),h=255),[r,o,h,1]},se=fa,ua=p.unpack,ha=Math.round,da=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=ua(t,"rgb"),o=r[0],h=r[2],d=1e3,u=4e4,m=.4,_;u-d>m;){_=(u+d)*.5;var P=se(_);P[2]/P[0]>=h/o?u=_:d=_}return ha(_)},va=da;y.prototype.temp=y.prototype.kelvin=y.prototype.temperature=function(){return va(this._rgb)},F.temp=F.kelvin=F.temperature=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y,[null].concat(t,["temp"])))},b.format.temp=b.format.kelvin=b.format.temperature=se;var ba=p.type;y.prototype.alpha=function(t,n){return n===void 0&&(n=!1),t!==void 0&&ba(t)==="number"?n?(this._rgb[3]=t,this):new y([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},y.prototype.clipped=function(){return this._rgb._clipped||!1},y.prototype.darken=function(t){t===void 0&&(t=1);var n=this,r=n.lab();return r[0]-=mt.Kn*t,new y(r,"lab").alpha(n.alpha(),!0)},y.prototype.brighten=function(t){return t===void 0&&(t=1),this.darken(-t)},y.prototype.darker=y.prototype.darken,y.prototype.brighter=y.prototype.brighten,y.prototype.get=function(t){var n=t.split("."),r=n[0],o=n[1],h=this[r]();if(o){var d=r.indexOf(o);if(d>-1)return h[d];throw new Error("unknown channel "+o+" in mode "+r)}else return h};var ga=p.type,pa=Math.pow,ma=1e-7,_a=20;y.prototype.luminance=function(t){if(t!==void 0&&ga(t)==="number"){if(t===0)return new y([0,0,0,this._rgb[3]],"rgb");if(t===1)return new y([255,255,255,this._rgb[3]],"rgb");var n=this.luminance(),r="rgb",o=_a,h=function(u,m){var _=u.interpolate(m,.5,r),P=_.luminance();return Math.abs(t-P)<ma||!o--?_:P>t?h(u,_):h(_,m)},d=(n>t?h(new y([0,0,0]),this):h(this,new y([255,255,255]))).rgb();return new y(d.concat([this._rgb[3]]))}return wa.apply(void 0,this._rgb.slice(0,3))};var wa=function(t,n,r){return t=_n(t),n=_n(n),r=_n(r),.2126*t+.7152*n+.0722*r},_n=function(t){return t/=255,t<=.03928?t/12.92:pa((t+.055)/1.055,2.4)},_t={},ie=p.type,oe=function(t,n,r){r===void 0&&(r=.5);for(var o=[],h=arguments.length-3;h-- >0;)o[h]=arguments[h+3];var d=o[0]||"lrgb";if(!_t[d]&&!o.length&&(d=Object.keys(_t)[0]),!_t[d])throw new Error("interpolation mode "+d+" is not defined");return ie(t)!=="object"&&(t=new y(t)),ie(n)!=="object"&&(n=new y(n)),_t[d](t,n,r).alpha(t.alpha()+r*(n.alpha()-t.alpha()))};y.prototype.mix=y.prototype.interpolate=function(t,n){n===void 0&&(n=.5);for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return oe.apply(void 0,[this,t,n].concat(r))},y.prototype.premultiply=function(t){t===void 0&&(t=!1);var n=this._rgb,r=n[3];return t?(this._rgb=[n[0]*r,n[1]*r,n[2]*r,r],this):new y([n[0]*r,n[1]*r,n[2]*r,r],"rgb")},y.prototype.saturate=function(t){t===void 0&&(t=1);var n=this,r=n.lch();return r[1]+=mt.Kn*t,r[1]<0&&(r[1]=0),new y(r,"lch").alpha(n.alpha(),!0)},y.prototype.desaturate=function(t){return t===void 0&&(t=1),this.saturate(-t)};var le=p.type;y.prototype.set=function(t,n,r){r===void 0&&(r=!1);var o=t.split("."),h=o[0],d=o[1],u=this[h]();if(d){var m=h.indexOf(d);if(m>-1){if(le(n)=="string")switch(n.charAt(0)){case"+":u[m]+=+n;break;case"-":u[m]+=+n;break;case"*":u[m]*=+n.substr(1);break;case"/":u[m]/=+n.substr(1);break;default:u[m]=+n}else if(le(n)==="number")u[m]=n;else throw new Error("unsupported value for Color.set");var _=new y(u,h);return r?(this._rgb=_._rgb,this):_}throw new Error("unknown channel "+d+" in mode "+h)}else return u};var ya=function(t,n,r){var o=t._rgb,h=n._rgb;return new y(o[0]+r*(h[0]-o[0]),o[1]+r*(h[1]-o[1]),o[2]+r*(h[2]-o[2]),"rgb")};_t.rgb=ya;var wn=Math.sqrt,Gt=Math.pow,ka=function(t,n,r){var o=t._rgb,h=o[0],d=o[1],u=o[2],m=n._rgb,_=m[0],P=m[1],I=m[2];return new y(wn(Gt(h,2)*(1-r)+Gt(_,2)*r),wn(Gt(d,2)*(1-r)+Gt(P,2)*r),wn(Gt(u,2)*(1-r)+Gt(I,2)*r),"rgb")};_t.lrgb=ka;var Ma=function(t,n,r){var o=t.lab(),h=n.lab();return new y(o[0]+r*(h[0]-o[0]),o[1]+r*(h[1]-o[1]),o[2]+r*(h[2]-o[2]),"lab")};_t.lab=Ma;var Vt=function(t,n,r,o){var h,d,u,m;o==="hsl"?(u=t.hsl(),m=n.hsl()):o==="hsv"?(u=t.hsv(),m=n.hsv()):o==="hcg"?(u=t.hcg(),m=n.hcg()):o==="hsi"?(u=t.hsi(),m=n.hsi()):(o==="lch"||o==="hcl")&&(o="hcl",u=t.hcl(),m=n.hcl());var _,P,I,A,C,R;o.substr(0,1)==="h"&&(h=u,_=h[0],I=h[1],C=h[2],d=m,P=d[0],A=d[1],R=d[2]);var G,H,x,Z;return!isNaN(_)&&!isNaN(P)?(P>_&&P-_>180?Z=P-(_+360):P<_&&_-P>180?Z=P+360-_:Z=P-_,H=_+r*Z):isNaN(_)?isNaN(P)?H=Number.NaN:(H=P,(C==1||C==0)&&o!="hsv"&&(G=A)):(H=_,(R==1||R==0)&&o!="hsv"&&(G=I)),G===void 0&&(G=I+r*(A-I)),x=C+r*(R-C),new y([H,G,x],o)},ce=function(t,n,r){return Vt(t,n,r,"lch")};_t.lch=ce,_t.hcl=ce;var Pa=function(t,n,r){var o=t.num(),h=n.num();return new y(o+r*(h-o),"num")};_t.num=Pa;var $a=function(t,n,r){return Vt(t,n,r,"hcg")};_t.hcg=$a;var Aa=function(t,n,r){return Vt(t,n,r,"hsi")};_t.hsi=Aa;var Fa=function(t,n,r){return Vt(t,n,r,"hsl")};_t.hsl=Fa;var Ia=function(t,n,r){return Vt(t,n,r,"hsv")};_t.hsv=Ia;var Na=p.clip_rgb,yn=Math.pow,kn=Math.sqrt,Mn=Math.PI,fe=Math.cos,ue=Math.sin,Ta=Math.atan2,Ea=function(t,n,r){n===void 0&&(n="lrgb"),r===void 0&&(r=null);var o=t.length;r||(r=Array.from(new Array(o)).map(function(){return 1}));var h=o/r.reduce(function(H,x){return H+x});if(r.forEach(function(H,x){r[x]*=h}),t=t.map(function(H){return new y(H)}),n==="lrgb")return Ra(t,r);for(var d=t.shift(),u=d.get(n),m=[],_=0,P=0,I=0;I<u.length;I++)if(u[I]=(u[I]||0)*r[0],m.push(isNaN(u[I])?0:r[0]),n.charAt(I)==="h"&&!isNaN(u[I])){var A=u[I]/180*Mn;_+=fe(A)*r[0],P+=ue(A)*r[0]}var C=d.alpha()*r[0];t.forEach(function(H,x){var Z=H.get(n);C+=H.alpha()*r[x+1];for(var et=0;et<u.length;et++)if(!isNaN(Z[et]))if(m[et]+=r[x+1],n.charAt(et)==="h"){var dt=Z[et]/180*Mn;_+=fe(dt)*r[x+1],P+=ue(dt)*r[x+1]}else u[et]+=Z[et]*r[x+1]});for(var R=0;R<u.length;R++)if(n.charAt(R)==="h"){for(var G=Ta(P/m[R],_/m[R])/Mn*180;G<0;)G+=360;for(;G>=360;)G-=360;u[R]=G}else u[R]=u[R]/m[R];return C/=o,new y(u,n).alpha(C>.99999?1:C,!0)},Ra=function(t,n){for(var r=t.length,o=[0,0,0,0],h=0;h<t.length;h++){var d=t[h],u=n[h]/r,m=d._rgb;o[0]+=yn(m[0],2)*u,o[1]+=yn(m[1],2)*u,o[2]+=yn(m[2],2)*u,o[3]+=m[3]*u}return o[0]=kn(o[0]),o[1]=kn(o[1]),o[2]=kn(o[2]),o[3]>.9999999&&(o[3]=1),new y(Na(o))},Dt=p.type,ja=Math.pow,en=function(t){var n="rgb",r=F("#ccc"),o=0,h=[0,1],d=[],u=[0,0],m=!1,_=[],P=!1,I=0,A=1,C=!1,R={},G=!0,H=1,x=function(N){if(N=N||["#fff","#000"],N&&Dt(N)==="string"&&F.brewer&&F.brewer[N.toLowerCase()]&&(N=F.brewer[N.toLowerCase()]),Dt(N)==="array"){N.length===1&&(N=[N[0],N[0]]),N=N.slice(0);for(var L=0;L<N.length;L++)N[L]=F(N[L]);d.length=0;for(var B=0;B<N.length;B++)d.push(B/(N.length-1))}return yt(),_=N},Z=function(N){if(m!=null){for(var L=m.length-1,B=0;B<L&&N>=m[B];)B++;return B-1}return 0},et=function(N){return N},dt=function(N){return N},vt=function(N,L){var B,q;if(L==null&&(L=!1),isNaN(N)||N===null)return r;if(L)q=N;else if(m&&m.length>2){var wt=Z(N);q=wt/(m.length-2)}else A!==I?q=(N-I)/(A-I):q=1;q=dt(q),L||(q=et(q)),H!==1&&(q=ja(q,H)),q=u[0]+q*(1-u[0]-u[1]),q=Math.min(1,Math.max(0,q));var st=Math.floor(q*1e4);if(G&&R[st])B=R[st];else{if(Dt(_)==="array")for(var tt=0;tt<d.length;tt++){var nt=d[tt];if(q<=nt){B=_[tt];break}if(q>=nt&&tt===d.length-1){B=_[tt];break}if(q>nt&&q<d[tt+1]){q=(q-nt)/(d[tt+1]-nt),B=F.interpolate(_[tt],_[tt+1],q,n);break}}else Dt(_)==="function"&&(B=_(q));G&&(R[st]=B)}return B},yt=function(){return R={}};x(t);var U=function(N){var L=F(vt(N));return P&&L[P]?L[P]():L};return U.classes=function(N){if(N!=null){if(Dt(N)==="array")m=N,h=[N[0],N[N.length-1]];else{var L=F.analyze(h);N===0?m=[L.min,L.max]:m=F.limits(L,"e",N)}return U}return m},U.domain=function(N){if(!arguments.length)return h;I=N[0],A=N[N.length-1],d=[];var L=_.length;if(N.length===L&&I!==A)for(var B=0,q=Array.from(N);B<q.length;B+=1){var wt=q[B];d.push((wt-I)/(A-I))}else{for(var st=0;st<L;st++)d.push(st/(L-1));if(N.length>2){var tt=N.map(function(ut,rt){return rt/(N.length-1)}),nt=N.map(function(ut){return(ut-I)/(A-I)});nt.every(function(ut,rt){return tt[rt]===ut})||(dt=function(ut){if(ut<=0||ut>=1)return ut;for(var rt=0;ut>=nt[rt+1];)rt++;var It=(ut-nt[rt])/(nt[rt+1]-nt[rt]),xt=tt[rt]+It*(tt[rt+1]-tt[rt]);return xt})}}return h=[I,A],U},U.mode=function(N){return arguments.length?(n=N,yt(),U):n},U.range=function(N,L){return x(N,L),U},U.out=function(N){return P=N,U},U.spread=function(N){return arguments.length?(o=N,U):o},U.correctLightness=function(N){return N==null&&(N=!0),C=N,yt(),C?et=function(L){for(var B=vt(0,!0).lab()[0],q=vt(1,!0).lab()[0],wt=B>q,st=vt(L,!0).lab()[0],tt=B+(q-B)*L,nt=st-tt,ut=0,rt=1,It=20;Math.abs(nt)>.01&&It-- >0;)(function(){return wt&&(nt*=-1),nt<0?(ut=L,L+=(rt-L)*.5):(rt=L,L+=(ut-L)*.5),st=vt(L,!0).lab()[0],nt=st-tt})();return L}:et=function(L){return L},U},U.padding=function(N){return N!=null?(Dt(N)==="number"&&(N=[N,N]),u=N,U):u},U.colors=function(N,L){arguments.length<2&&(L="hex");var B=[];if(arguments.length===0)B=_.slice(0);else if(N===1)B=[U(.5)];else if(N>1){var q=h[0],wt=h[1]-q;B=Ca(0,N,!1).map(function(rt){return U(q+rt/(N-1)*wt)})}else{t=[];var st=[];if(m&&m.length>2)for(var tt=1,nt=m.length,ut=1<=nt;ut?tt<nt:tt>nt;ut?tt++:tt--)st.push((m[tt-1]+m[tt])*.5);else st=h;B=st.map(function(rt){return U(rt)})}return F[L]&&(B=B.map(function(rt){return rt[L]()})),B},U.cache=function(N){return N!=null?(G=N,U):G},U.gamma=function(N){return N!=null?(H=N,U):H},U.nodata=function(N){return N!=null?(r=F(N),U):r},U};function Ca(t,n,r){for(var o=[],h=t<n,d=r?h?n+1:n-1:n,u=t;h?u<d:u>d;h?u++:u--)o.push(u);return o}var Pn=function(t){var n,r,o,h,d,u,m;if(t=t.map(function(A){return new y(A)}),t.length===2)n=t.map(function(A){return A.lab()}),d=n[0],u=n[1],h=function(A){var C=[0,1,2].map(function(R){return d[R]+A*(u[R]-d[R])});return new y(C,"lab")};else if(t.length===3)r=t.map(function(A){return A.lab()}),d=r[0],u=r[1],m=r[2],h=function(A){var C=[0,1,2].map(function(R){return(1-A)*(1-A)*d[R]+2*(1-A)*A*u[R]+A*A*m[R]});return new y(C,"lab")};else if(t.length===4){var _;o=t.map(function(A){return A.lab()}),d=o[0],u=o[1],m=o[2],_=o[3],h=function(A){var C=[0,1,2].map(function(R){return(1-A)*(1-A)*(1-A)*d[R]+3*(1-A)*(1-A)*A*u[R]+3*(1-A)*A*A*m[R]+A*A*A*_[R]});return new y(C,"lab")}}else if(t.length===5){var P=Pn(t.slice(0,3)),I=Pn(t.slice(2,5));h=function(A){return A<.5?P(A*2):I((A-.5)*2)}}return h},Sa=function(t){var n=Pn(t);return n.scale=function(){return en(n)},n},Mt=function(t,n,r){if(!Mt[r])throw new Error("unknown blend mode "+r);return Mt[r](t,n)},At=function(t){return function(n,r){var o=F(r).rgb(),h=F(n).rgb();return F.rgb(t(o,h))}},Ft=function(t){return function(n,r){var o=[];return o[0]=t(n[0],r[0]),o[1]=t(n[1],r[1]),o[2]=t(n[2],r[2]),o}},La=function(t){return t},Ga=function(t,n){return t*n/255},Da=function(t,n){return t>n?n:t},xa=function(t,n){return t>n?t:n},Oa=function(t,n){return 255*(1-(1-t/255)*(1-n/255))},qa=function(t,n){return n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255))},Ya=function(t,n){return 255*(1-(1-n/255)/(t/255))},Xa=function(t,n){return t===255?255:(t=255*(n/255)/(1-t/255),t>255?255:t)};Mt.normal=At(Ft(La)),Mt.multiply=At(Ft(Ga)),Mt.screen=At(Ft(Oa)),Mt.overlay=At(Ft(qa)),Mt.darken=At(Ft(Da)),Mt.lighten=At(Ft(xa)),Mt.dodge=At(Ft(Xa)),Mt.burn=At(Ft(Ya));for(var Ha=Mt,$n=p.type,Ba=p.clip_rgb,Ua=p.TWOPI,Va=Math.pow,Wa=Math.sin,Ka=Math.cos,Za=function(t,n,r,o,h){t===void 0&&(t=300),n===void 0&&(n=-1.5),r===void 0&&(r=1),o===void 0&&(o=1),h===void 0&&(h=[0,1]);var d=0,u;$n(h)==="array"?u=h[1]-h[0]:(u=0,h=[h,h]);var m=function(_){var P=Ua*((t+120)/360+n*_),I=Va(h[0]+u*_,o),A=d!==0?r[0]+_*d:r,C=A*I*(1-I)/2,R=Ka(P),G=Wa(P),H=I+C*(-.14861*R+1.78277*G),x=I+C*(-.29227*R-.90649*G),Z=I+C*(1.97294*R);return F(Ba([H*255,x*255,Z*255,1]))};return m.start=function(_){return _==null?t:(t=_,m)},m.rotations=function(_){return _==null?n:(n=_,m)},m.gamma=function(_){return _==null?o:(o=_,m)},m.hue=function(_){return _==null?r:(r=_,$n(r)==="array"?(d=r[1]-r[0],d===0&&(r=r[1])):d=0,m)},m.lightness=function(_){return _==null?h:($n(_)==="array"?(h=_,u=_[1]-_[0]):(h=[_,_],u=0),m)},m.scale=function(){return F.scale(m)},m.hue(r),m},Qa="0123456789abcdef",Ja=Math.floor,za=Math.random,ts=function(){for(var t="#",n=0;n<6;n++)t+=Qa.charAt(Ja(za()*16));return new y(t,"hex")},he=Math.log,ns=Math.pow,es=Math.floor,rs=Math.abs,de=function(t,n){n===void 0&&(n=null);var r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return c(t)==="object"&&(t=Object.values(t)),t.forEach(function(o){n&&c(o)==="object"&&(o=o[n]),o!=null&&!isNaN(o)&&(r.values.push(o),r.sum+=o,o<r.min&&(r.min=o),o>r.max&&(r.max=o),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(o,h){return ve(r,o,h)},r},ve=function(t,n,r){n===void 0&&(n="equal"),r===void 0&&(r=7),c(t)=="array"&&(t=de(t));var o=t.min,h=t.max,d=t.values.sort(function(En,Rn){return En-Rn});if(r===1)return[o,h];var u=[];if(n.substr(0,1)==="c"&&(u.push(o),u.push(h)),n.substr(0,1)==="e"){u.push(o);for(var m=1;m<r;m++)u.push(o+m/r*(h-o));u.push(h)}else if(n.substr(0,1)==="l"){if(o<=0)throw new Error("Logarithmic scales are only possible for values > 0");var _=Math.LOG10E*he(o),P=Math.LOG10E*he(h);u.push(o);for(var I=1;I<r;I++)u.push(ns(10,_+I/r*(P-_)));u.push(h)}else if(n.substr(0,1)==="q"){u.push(o);for(var A=1;A<r;A++){var C=(d.length-1)*A/r,R=es(C);if(R===C)u.push(d[R]);else{var G=C-R;u.push(d[R]*(1-G)+d[R+1]*G)}}u.push(h)}else if(n.substr(0,1)==="k"){var H,x=d.length,Z=new Array(x),et=new Array(r),dt=!0,vt=0,yt=null;yt=[],yt.push(o);for(var U=1;U<r;U++)yt.push(o+U/r*(h-o));for(yt.push(h);dt;){for(var N=0;N<r;N++)et[N]=0;for(var L=0;L<x;L++)for(var B=d[L],q=Number.MAX_VALUE,wt=void 0,st=0;st<r;st++){var tt=rs(yt[st]-B);tt<q&&(q=tt,wt=st),et[wt]++,Z[L]=wt}for(var nt=new Array(r),ut=0;ut<r;ut++)nt[ut]=null;for(var rt=0;rt<x;rt++)H=Z[rt],nt[H]===null?nt[H]=d[rt]:nt[H]+=d[rt];for(var It=0;It<r;It++)nt[It]*=1/et[It];dt=!1;for(var xt=0;xt<r;xt++)if(nt[xt]!==yt[xt]){dt=!0;break}yt=nt,vt++,vt>200&&(dt=!1)}for(var Wt={},In=0;In<r;In++)Wt[In]=[];for(var sn=0;sn<x;sn++)H=Z[sn],Wt[H].push(d[sn]);for(var Tt=[],Kt=0;Kt<r;Kt++)Tt.push(Wt[Kt][0]),Tt.push(Wt[Kt][Wt[Kt].length-1]);Tt=Tt.sort(function(En,Rn){return En-Rn}),u.push(Tt[0]);for(var Nn=1;Nn<Tt.length;Nn+=2){var Tn=Tt[Nn];!isNaN(Tn)&&u.indexOf(Tn)===-1&&u.push(Tn)}}return u},be={analyze:de,limits:ve},as=function(t,n){t=new y(t),n=new y(n);var r=t.luminance(),o=n.luminance();return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)},rn=Math.sqrt,ss=Math.atan2,ge=Math.abs,pe=Math.cos,An=Math.PI,is=function(t,n,r,o){r===void 0&&(r=1),o===void 0&&(o=1),t=new y(t),n=new y(n);for(var h=Array.from(t.lab()),d=h[0],u=h[1],m=h[2],_=Array.from(n.lab()),P=_[0],I=_[1],A=_[2],C=rn(u*u+m*m),R=rn(I*I+A*A),G=d<16?.511:.040975*d/(1+.01765*d),H=.0638*C/(1+.0131*C)+.638,x=C<1e-6?0:ss(m,u)*180/An;x<0;)x+=360;for(;x>=360;)x-=360;var Z=x>=164&&x<=345?.56+ge(.2*pe(An*(x+168)/180)):.36+ge(.4*pe(An*(x+35)/180)),et=C*C*C*C,dt=rn(et/(et+1900)),vt=H*(dt*Z+1-dt),yt=d-P,U=C-R,N=u-I,L=m-A,B=N*N+L*L-U*U,q=yt/(r*G),wt=U/(o*H),st=vt;return rn(q*q+wt*wt+B/(st*st))},os=function(t,n,r){r===void 0&&(r="lab"),t=new y(t),n=new y(n);var o=t.get(r),h=n.get(r),d=0;for(var u in o){var m=(o[u]||0)-(h[u]||0);d+=m*m}return Math.sqrt(d)},ls=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];try{return new(Function.prototype.bind.apply(y,[null].concat(t))),!0}catch(r){return!1}},cs={cool:function(){return en([F.hsl(180,1,.9),F.hsl(250,.7,.4)])},hot:function(){return en(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}},an={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Fn=0,me=Object.keys(an);Fn<me.length;Fn+=1){var _e=me[Fn];an[_e.toLowerCase()]=an[_e]}var fs=an;F.average=Ea,F.bezier=Sa,F.blend=Ha,F.cubehelix=Za,F.mix=F.interpolate=oe,F.random=ts,F.scale=en,F.analyze=be.analyze,F.contrast=as,F.deltaE=is,F.distance=os,F.limits=be.limits,F.valid=ls,F.scales=cs,F.colors=Lt,F.brewer=fs;var us=F;return us})});function bt(g,e){g<0&&(g=0),e<0&&(e=0),g>e&&([g,e]=[e,g]);let a=e-g,i=Math.floor(Math.random()*(a+1));return g+i}var on=class{static random(e,a,i){switch(bt(1,2)){case 1:return this.uniform(e,a,i);case 2:default:return this.grid(e,a,i)}}static uniform(e,a,i){e<0&&(e=0),a<0&&(a=0),(i==null||i<=0)&&(i=ye(e,a));let s=Math.max(Math.min(e,a)/2,i),l=e+2*s,c=a+2*s,f=Math.ceil(c/i),v=Math.ceil(l/i),w=f*v,p=[];for(let b=0;b<w;b++){let k=Math.round(Math.random()*l-s),M=Math.round(Math.random()*c-s);p.push([k,M])}return p}static grid(e,a,i,s){e<0&&(e=0),a<0&&(a=0),s<0?s=0:s>1?s=1:s==null&&(s=Math.random()),(i==null||i<=0)&&(i=ye(e,a));let l=Math.max(Math.min(e,a)/2,i),[c,f]=[-l,e+l],[v,w]=[-l,a+l],p=()=>{let k=Math.round(Math.random()),M=Math.round(Math.random()*i*s);return k===1?M:-M},b=[];for(let k=c;k<=f;k+=i)for(let M=v;M<=w;M+=i)b.push([k+p(),M+p()]);return b}};function ye(g,e){let a=Math.min(g,e),i=Math.min(a,50),s=Math.floor(a/5);return bt(i,s)}var it=we(Ln());var ln=class{static random(e){switch(bt(1,7)){case 1:return this.chaos(e);case 2:return this.complementary(e);case 3:return this.monochromatic(e);case 4:return this.analogous(e);case 5:return this.triadic(e);case 6:return this.tetradic(e);case 7:default:return this.colorbrewer()}}static chaos(e){let i=[Ot(e)],s=bt(4,10);for(let l=1;l<4;l++)i.push(ws(i[l-1]));return it.default.scale(i).mode("lch").colors(s)}static complementary(e){let a=Ot(e),[i,s,l]=a.hsl(),c=it.default.hsl(i-180,s,l),f=bt(4,10);return it.default.scale([a,c]).mode("lch").colors(f)}static monochromatic(e){let a=Ot(e),[i,s,l]=a.hsl(),c=bt(4,10),f=1/(c+1),v=[];for(let w=c;w>=1;w--)v.push(it.default.hsl(i,s,w*f).hex());return v}static analogous(e){let a=Ot(e),[i,s,l]=a.hsl(),c=it.default.hsl(i+30,s,l),f=it.default.hsl(i+60,s,l),v=bt(4,10);return it.default.scale([a,c,f]).mode("lch").colors(v)}static triadic(e){let a=Ot(e),[i,s,l]=a.hsl(),c=it.default.hsl(i+120,s,l),f=it.default.hsl(i+240,s,l),v=bt(4,10);return it.default.scale([a,c,f]).mode("lch").colors(v)}static tetradic(e){let a=Ot(e),[i,s,l]=a.hsl(),c=it.default.hsl(i+90,s,l),f=it.default.hsl(i+180,s,l),v=it.default.hsl(i+270,s,l),w=bt(4,10);return it.default.scale([a,c,f,v]).mode("lch").colors(w)}static colorbrewer(e){let a=Object.keys(it.default.brewer);if(e!=null&&e in a)return it.default.brewer[e];{let i=Math.floor(Math.random()*a.length);return it.default.brewer[a[i]]}}};function Ot(g){return it.default.valid(g)?(0,it.default)(g):it.default.random()}function ws(g){if(g==null)return it.default.random();let e=bt(1,3),[a,i,s]=g.hsl();switch(e){case 1:a=bt(1,360);case 2:i=Math.random();case 3:default:s=Math.random()}return it.default.hsl(a,i,s)}var zt=we(Ln());var W=11102230246251565e-32,ht=134217729,Zt=(3+8*W)*W;function Et(g,e,a,i,s){let l,c,f,v,w=e[0],p=i[0],b=0,k=0;p>w==p>-w?(l=w,w=e[++b]):(l=p,p=i[++k]);let M=0;if(b<g&&k<a)for(p>w==p>-w?(c=w+l,f=l-(c-w),w=e[++b]):(c=p+l,f=l-(c-p),p=i[++k]),l=c,f!==0&&(s[M++]=f);b<g&&k<a;)p>w==p>-w?(c=l+w,v=c-l,f=l-(c-v)+(w-v),w=e[++b]):(c=l+p,v=c-l,f=l-(c-v)+(p-v),p=i[++k]),l=c,f!==0&&(s[M++]=f);for(;b<g;)c=l+w,v=c-l,f=l-(c-v)+(w-v),w=e[++b],l=c,f!==0&&(s[M++]=f);for(;k<a;)c=l+p,v=c-l,f=l-(c-v)+(p-v),p=i[++k],l=c,f!==0&&(s[M++]=f);return(l!==0||M===0)&&(s[M++]=l),M}function Qt(g,e){let a=e[0];for(let i=1;i<g;i++)a+=e[i];return a}function $(g){return new Float64Array(g)}var ys=(3+16*W)*W,ks=(2+12*W)*W,Ms=(9+64*W)*W*W,qt=$(4),ke=$(8),Me=$(12),Pe=$(16),gt=$(4);function Ps(g,e,a,i,s,l,c){let f,v,w,p,b,k,M,T,E,y,j,F,V,K,J,Q,ot,at,lt=g-s,S=a-s,D=e-l,O=i-l;K=lt*O,k=ht*lt,M=k-(k-lt),T=lt-M,k=ht*O,E=k-(k-O),y=O-E,J=T*y-(K-M*E-T*E-M*y),Q=D*S,k=ht*D,M=k-(k-D),T=D-M,k=ht*S,E=k-(k-S),y=S-E,ot=T*y-(Q-M*E-T*E-M*y),j=J-ot,b=J-j,qt[0]=J-(j+b)+(b-ot),F=K+j,b=F-K,V=K-(F-b)+(j-b),j=V-Q,b=V-j,qt[1]=V-(j+b)+(b-Q),at=F+j,b=at-F,qt[2]=F-(at-b)+(j-b),qt[3]=at;let Y=Qt(4,qt),z=ks*c;if(Y>=z||-Y>=z||(b=g-lt,f=g-(lt+b)+(b-s),b=a-S,w=a-(S+b)+(b-s),b=e-D,v=e-(D+b)+(b-l),b=i-O,p=i-(O+b)+(b-l),f===0&&v===0&&w===0&&p===0)||(z=Ms*c+Zt*Math.abs(Y),Y+=lt*p+O*f-(D*w+S*v),Y>=z||-Y>=z))return Y;K=f*O,k=ht*f,M=k-(k-f),T=f-M,k=ht*O,E=k-(k-O),y=O-E,J=T*y-(K-M*E-T*E-M*y),Q=v*S,k=ht*v,M=k-(k-v),T=v-M,k=ht*S,E=k-(k-S),y=S-E,ot=T*y-(Q-M*E-T*E-M*y),j=J-ot,b=J-j,gt[0]=J-(j+b)+(b-ot),F=K+j,b=F-K,V=K-(F-b)+(j-b),j=V-Q,b=V-j,gt[1]=V-(j+b)+(b-Q),at=F+j,b=at-F,gt[2]=F-(at-b)+(j-b),gt[3]=at;let pt=Et(4,qt,4,gt,ke);K=lt*p,k=ht*lt,M=k-(k-lt),T=lt-M,k=ht*p,E=k-(k-p),y=p-E,J=T*y-(K-M*E-T*E-M*y),Q=D*w,k=ht*D,M=k-(k-D),T=D-M,k=ht*w,E=k-(k-w),y=w-E,ot=T*y-(Q-M*E-T*E-M*y),j=J-ot,b=J-j,gt[0]=J-(j+b)+(b-ot),F=K+j,b=F-K,V=K-(F-b)+(j-b),j=V-Q,b=V-j,gt[1]=V-(j+b)+(b-Q),at=F+j,b=at-F,gt[2]=F-(at-b)+(j-b),gt[3]=at;let ft=Et(pt,ke,4,gt,Me);K=f*p,k=ht*f,M=k-(k-f),T=f-M,k=ht*p,E=k-(k-p),y=p-E,J=T*y-(K-M*E-T*E-M*y),Q=v*w,k=ht*v,M=k-(k-v),T=v-M,k=ht*w,E=k-(k-w),y=w-E,ot=T*y-(Q-M*E-T*E-M*y),j=J-ot,b=J-j,gt[0]=J-(j+b)+(b-ot),F=K+j,b=F-K,V=K-(F-b)+(j-b),j=V-Q,b=V-j,gt[1]=V-(j+b)+(b-Q),at=F+j,b=at-F,gt[2]=F-(at-b)+(j-b),gt[3]=at;let X=Et(ft,Me,4,gt,Pe);return Pe[X-1]}function Yt(g,e,a,i,s,l){let c=(e-l)*(a-s),f=(g-s)*(i-l),v=c-f;if(c===0||f===0||c>0!=f>0)return v;let w=Math.abs(c+f);return Math.abs(v)>=ys*w?v:-Ps(g,e,a,i,s,l,w)}var Qs=(7+56*W)*W,Js=(3+28*W)*W,zs=(26+288*W)*W*W,ti=$(4),ni=$(4),ei=$(4),ri=$(4),ai=$(4),si=$(4),ii=$(4),oi=$(4),li=$(4),ci=$(8),fi=$(8),ui=$(8),hi=$(4),di=$(8),vi=$(8),bi=$(8),gi=$(12),pi=$(192),mi=$(192);var yi=(10+96*W)*W,ki=(4+48*W)*W,Mi=(44+576*W)*W*W,Pi=$(4),$i=$(4),Ai=$(4),Fi=$(4),Ii=$(4),Ni=$(4),Ti=$(4),Ei=$(4),Ri=$(8),ji=$(8),Ci=$(8),Si=$(8),Li=$(8),Gi=$(8),Di=$(8),xi=$(8),Oi=$(8),qi=$(4),Yi=$(4),Xi=$(4),Hi=$(8),Bi=$(16),Ui=$(16),Vi=$(16),Wi=$(32),Ki=$(32),Zi=$(48),Qi=$(64),Ji=$(1152),zi=$(1152);var ro=(16+224*W)*W,ao=(5+72*W)*W,so=(71+1408*W)*W*W,io=$(4),oo=$(4),lo=$(4),co=$(4),fo=$(4),uo=$(4),ho=$(4),vo=$(4),bo=$(4),go=$(4),po=$(24),mo=$(24),_o=$(24),wo=$(24),yo=$(24),ko=$(24),Mo=$(24),Po=$(24),$o=$(24),Ao=$(24),Fo=$(1152),Io=$(1152),No=$(1152),To=$(1152),Eo=$(1152),Ro=$(2304),jo=$(2304),Co=$(3456),So=$(5760),Lo=$(8),Go=$(8),Do=$(8),xo=$(16),Oo=$(24),qo=$(48),Yo=$(48),Xo=$(96),Ho=$(192),Bo=$(384),Uo=$(384),Vo=$(384),Wo=$(768);var Ko=$(96),Zo=$(96),Qo=$(96),Jo=$(1152);var Ae=Math.pow(2,-52),cn=new Uint32Array(512),Rt=class{static from(e,a=Ts,i=Es){let s=e.length,l=new Float64Array(s*2);for(let c=0;c<s;c++){let f=e[c];l[2*c]=a(f),l[2*c+1]=i(f)}return new Rt(l)}constructor(e){let a=e.length>>1;if(a>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let i=Math.max(2*a-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(a)),this._hullPrev=new Uint32Array(a),this._hullNext=new Uint32Array(a),this._hullTri=new Uint32Array(a),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(a),this._dists=new Float64Array(a),this.update()}update(){let{coords:e,_hullPrev:a,_hullNext:i,_hullTri:s,_hullHash:l}=this,c=e.length>>1,f=1/0,v=1/0,w=-1/0,p=-1/0;for(let S=0;S<c;S++){let D=e[2*S],O=e[2*S+1];D<f&&(f=D),O<v&&(v=O),D>w&&(w=D),O>p&&(p=O),this._ids[S]=S}let b=(f+w)/2,k=(v+p)/2,M=1/0,T,E,y;for(let S=0;S<c;S++){let D=Gn(b,k,e[2*S],e[2*S+1]);D<M&&(T=S,M=D)}let j=e[2*T],F=e[2*T+1];M=1/0;for(let S=0;S<c;S++){if(S===T)continue;let D=Gn(j,F,e[2*S],e[2*S+1]);D<M&&D>0&&(E=S,M=D)}let V=e[2*E],K=e[2*E+1],J=1/0;for(let S=0;S<c;S++){if(S===T||S===E)continue;let D=Is(j,F,V,K,e[2*S],e[2*S+1]);D<J&&(y=S,J=D)}let Q=e[2*y],ot=e[2*y+1];if(J===1/0){for(let O=0;O<c;O++)this._dists[O]=e[2*O]-e[0]||e[2*O+1]-e[1];Xt(this._ids,this._dists,0,c-1);let S=new Uint32Array(c),D=0;for(let O=0,Y=-1/0;O<c;O++){let z=this._ids[O];this._dists[z]>Y&&(S[D++]=z,Y=this._dists[z])}this.hull=S.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Yt(j,F,V,K,Q,ot)<0){let S=E,D=V,O=K;E=y,V=Q,K=ot,y=S,Q=D,ot=O}let at=Ns(j,F,V,K,Q,ot);this._cx=at.x,this._cy=at.y;for(let S=0;S<c;S++)this._dists[S]=Gn(e[2*S],e[2*S+1],at.x,at.y);Xt(this._ids,this._dists,0,c-1),this._hullStart=T;let lt=3;i[T]=a[y]=E,i[E]=a[T]=y,i[y]=a[E]=T,s[T]=0,s[E]=1,s[y]=2,l.fill(-1),l[this._hashKey(j,F)]=T,l[this._hashKey(V,K)]=E,l[this._hashKey(Q,ot)]=y,this.trianglesLen=0,this._addTriangle(T,E,y,-1,-1,-1);for(let S=0,D,O;S<this._ids.length;S++){let Y=this._ids[S],z=e[2*Y],pt=e[2*Y+1];if(S>0&&Math.abs(z-D)<=Ae&&Math.abs(pt-O)<=Ae||(D=z,O=pt,Y===T||Y===E||Y===y))continue;let ft=0;for(let Bt=0,Ut=this._hashKey(z,pt);Bt<this._hashSize&&(ft=l[(Ut+Bt)%this._hashSize],!(ft!==-1&&ft!==i[ft]));Bt++);ft=a[ft];let X=ft,ct;for(;ct=i[X],Yt(z,pt,e[2*X],e[2*X+1],e[2*ct],e[2*ct+1])>=0;)if(X=ct,X===ft){X=-1;break}if(X===-1)continue;let $t=this._addTriangle(X,Y,i[X],-1,-1,s[X]);s[Y]=this._legalize($t+2),s[X]=$t,lt++;let kt=i[X];for(;ct=i[kt],Yt(z,pt,e[2*kt],e[2*kt+1],e[2*ct],e[2*ct+1])<0;)$t=this._addTriangle(kt,Y,ct,s[Y],-1,s[kt]),s[Y]=this._legalize($t+2),i[kt]=kt,lt--,kt=ct;if(X===ft)for(;ct=a[X],Yt(z,pt,e[2*ct],e[2*ct+1],e[2*X],e[2*X+1])<0;)$t=this._addTriangle(ct,Y,X,-1,s[X],s[ct]),this._legalize($t+2),s[ct]=$t,i[X]=X,lt--,X=ct;this._hullStart=a[Y]=X,i[X]=a[kt]=Y,i[Y]=kt,l[this._hashKey(z,pt)]=Y,l[this._hashKey(e[2*X],e[2*X+1])]=X}this.hull=new Uint32Array(lt);for(let S=0,D=this._hullStart;S<lt;S++)this.hull[S]=D,D=i[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,a){return Math.floor(As(e-this._cx,a-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:a,_halfedges:i,coords:s}=this,l=0,c=0;for(;;){let f=i[e],v=e-e%3;if(c=v+(e+2)%3,f===-1){if(l===0)break;e=cn[--l];continue}let w=f-f%3,p=v+(e+1)%3,b=w+(f+2)%3,k=a[c],M=a[e],T=a[p],E=a[b];if(Fs(s[2*k],s[2*k+1],s[2*M],s[2*M+1],s[2*T],s[2*T+1],s[2*E],s[2*E+1])){a[e]=E,a[f]=k;let j=i[b];if(j===-1){let V=this._hullStart;do{if(this._hullTri[V]===b){this._hullTri[V]=e;break}V=this._hullPrev[V]}while(V!==this._hullStart)}this._link(e,j),this._link(f,i[c]),this._link(c,b);let F=w+(f+1)%3;l<cn.length&&(cn[l++]=F)}else{if(l===0)break;e=cn[--l]}}return c}_link(e,a){this._halfedges[e]=a,a!==-1&&(this._halfedges[a]=e)}_addTriangle(e,a,i,s,l,c){let f=this.trianglesLen;return this._triangles[f]=e,this._triangles[f+1]=a,this._triangles[f+2]=i,this._link(f,s),this._link(f+1,l),this._link(f+2,c),this.trianglesLen+=3,f}};function As(g,e){let a=g/(Math.abs(g)+Math.abs(e));return(e>0?3-a:1+a)/4}function Gn(g,e,a,i){let s=g-a,l=e-i;return s*s+l*l}function Fs(g,e,a,i,s,l,c,f){let v=g-c,w=e-f,p=a-c,b=i-f,k=s-c,M=l-f,T=v*v+w*w,E=p*p+b*b,y=k*k+M*M;return v*(b*y-E*M)-w*(p*y-E*k)+T*(p*M-b*k)<0}function Is(g,e,a,i,s,l){let c=a-g,f=i-e,v=s-g,w=l-e,p=c*c+f*f,b=v*v+w*w,k=.5/(c*w-f*v),M=(w*p-f*b)*k,T=(c*b-v*p)*k;return M*M+T*T}function Ns(g,e,a,i,s,l){let c=a-g,f=i-e,v=s-g,w=l-e,p=c*c+f*f,b=v*v+w*w,k=.5/(c*w-f*v),M=g+(w*p-f*b)*k,T=e+(c*b-v*p)*k;return{x:M,y:T}}function Xt(g,e,a,i){if(i-a<=20)for(let s=a+1;s<=i;s++){let l=g[s],c=e[l],f=s-1;for(;f>=a&&e[g[f]]>c;)g[f+1]=g[f--];g[f+1]=l}else{let s=a+i>>1,l=a+1,c=i;Jt(g,s,l),e[g[a]]>e[g[i]]&&Jt(g,a,i),e[g[l]]>e[g[i]]&&Jt(g,l,i),e[g[a]]>e[g[l]]&&Jt(g,a,l);let f=g[l],v=e[f];for(;;){do l++;while(e[g[l]]<v);do c--;while(e[g[c]]>v);if(c<l)break;Jt(g,l,c)}g[a+1]=g[c],g[c]=f,i-l+1>=c-a?(Xt(g,e,l,i),Xt(g,e,a,c-1)):(Xt(g,e,a,c-1),Xt(g,e,l,i))}}function Jt(g,e,a){let i=g[e];g[e]=g[a],g[a]=i}function Ts(g){return g[0]}function Es(g){return g[1]}var Fe=1e-6,Pt=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,a){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,a){this._+=`L${this._x1=+e},${this._y1=+a}`}arc(e,a,i){e=+e,a=+a,i=+i;let s=e+i,l=a;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${l}`:(Math.abs(this._x1-s)>Fe||Math.abs(this._y1-l)>Fe)&&(this._+="L"+s+","+l),!!i&&(this._+=`A${i},${i},0,1,1,${e-i},${a}A${i},${i},0,1,1,${this._x1=s},${this._y1=l}`)}rect(e,a,i,s){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+a}h${+i}v${+s}h${-i}Z`}value(){return this._||null}};var jt=class{constructor(){this._=[]}moveTo(e,a){this._.push([e,a])}closePath(){this._.push(this._[0].slice())}lineTo(e,a){this._.push([e,a])}value(){return this._.length?this._:null}};var fn=class{constructor(e,[a,i,s,l]=[0,0,960,500]){if(!((s=+s)>=(a=+a))||!((l=+l)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=s,this.xmin=a,this.ymax=l,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:a,triangles:i},vectors:s}=this,l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let M=0,T=0,E=i.length,y,j;M<E;M+=3,T+=2){let F=i[M]*2,V=i[M+1]*2,K=i[M+2]*2,J=e[F],Q=e[F+1],ot=e[V],at=e[V+1],lt=e[K],S=e[K+1],D=ot-J,O=at-Q,Y=lt-J,z=S-Q,pt=(D*z-O*Y)*2;if(Math.abs(pt)<1e-9){let ft=1e9,X=i[0]*2;ft*=Math.sign((e[X]-J)*z-(e[X+1]-Q)*Y),y=(J+lt)/2-ft*z,j=(Q+S)/2+ft*Y}else{let ft=1/pt,X=D*D+O*O,ct=Y*Y+z*z;y=J+(z*X-O*ct)*ft,j=Q+(D*ct-Y*X)*ft}l[T]=y,l[T+1]=j}let c=a[a.length-1],f,v=c*4,w,p=e[2*c],b,k=e[2*c+1];s.fill(0);for(let M=0;M<a.length;++M)c=a[M],f=v,w=p,b=k,v=c*4,p=e[2*c],k=e[2*c+1],s[f+2]=s[v]=b-k,s[f+3]=s[v+1]=p-w}render(e){let a=e==null?e=new Pt:void 0,{delaunay:{halfedges:i,inedges:s,hull:l},circumcenters:c,vectors:f}=this;if(l.length<=1)return null;for(let p=0,b=i.length;p<b;++p){let k=i[p];if(k<p)continue;let M=Math.floor(p/3)*2,T=Math.floor(k/3)*2,E=c[M],y=c[M+1],j=c[T],F=c[T+1];this._renderSegment(E,y,j,F,e)}let v,w=l[l.length-1];for(let p=0;p<l.length;++p){v=w,w=l[p];let b=Math.floor(s[w]/3)*2,k=c[b],M=c[b+1],T=v*4,E=this._project(k,M,f[T+2],f[T+3]);E&&this._renderSegment(k,M,E[0],E[1],e)}return a&&a.value()}renderBounds(e){let a=e==null?e=new Pt:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),a&&a.value()}renderCell(e,a){let i=a==null?a=new Pt:void 0,s=this._clip(e);if(s===null||!s.length)return;a.moveTo(s[0],s[1]);let l=s.length;for(;s[0]===s[l-2]&&s[1]===s[l-1]&&l>1;)l-=2;for(let c=2;c<l;c+=2)(s[c]!==s[c-2]||s[c+1]!==s[c-1])&&a.lineTo(s[c],s[c+1]);return a.closePath(),i&&i.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let a=0,i=e.length/2;a<i;++a){let s=this.cellPolygon(a);s&&(s.index=a,yield s)}}cellPolygon(e){let a=new jt;return this.renderCell(e,a),a.value()}_renderSegment(e,a,i,s,l){let c,f=this._regioncode(e,a),v=this._regioncode(i,s);f===0&&v===0?(l.moveTo(e,a),l.lineTo(i,s)):(c=this._clipSegment(e,a,i,s,f,v))&&(l.moveTo(c[0],c[1]),l.lineTo(c[2],c[3]))}contains(e,a,i){return a=+a,a!==a||(i=+i,i!==i)?!1:this.delaunay._step(e,a,i)===e}*neighbors(e){let a=this._clip(e);if(a)for(let i of this.delaunay.neighbors(e)){let s=this._clip(i);if(s)t:for(let l=0,c=a.length;l<c;l+=2)for(let f=0,v=s.length;f<v;f+=2)if(a[l]==s[f]&&a[l+1]==s[f+1]&&a[(l+2)%c]==s[(f+v-2)%v]&&a[(l+3)%c]==s[(f+v-1)%v]){yield i;break t}}}_cell(e){let{circumcenters:a,delaunay:{inedges:i,halfedges:s,triangles:l}}=this,c=i[e];if(c===-1)return null;let f=[],v=c;do{let w=Math.floor(v/3);if(f.push(a[w*2],a[w*2+1]),v=v%3==2?v-2:v+1,l[v]!==e)break;v=s[v]}while(v!==c&&v!==-1);return f}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let a=this._cell(e);if(a===null)return null;let{vectors:i}=this,s=e*4;return i[s]||i[s+1]?this._clipInfinite(e,a,i[s],i[s+1],i[s+2],i[s+3]):this._clipFinite(e,a)}_clipFinite(e,a){let i=a.length,s=null,l,c,f=a[i-2],v=a[i-1],w,p=this._regioncode(f,v),b,k=0;for(let M=0;M<i;M+=2)if(l=f,c=v,f=a[M],v=a[M+1],w=p,p=this._regioncode(f,v),w===0&&p===0)b=k,k=0,s?s.push(f,v):s=[f,v];else{let T,E,y,j,F;if(w===0){if((T=this._clipSegment(l,c,f,v,w,p))===null)continue;[E,y,j,F]=T}else{if((T=this._clipSegment(f,v,l,c,p,w))===null)continue;[j,F,E,y]=T,b=k,k=this._edgecode(E,y),b&&k&&this._edge(e,b,k,s,s.length),s?s.push(E,y):s=[E,y]}b=k,k=this._edgecode(j,F),b&&k&&this._edge(e,b,k,s,s.length),s?s.push(j,F):s=[j,F]}if(s)b=k,k=this._edgecode(s[0],s[1]),b&&k&&this._edge(e,b,k,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,a,i,s,l,c){for(;;){if(l===0&&c===0)return[e,a,i,s];if(l&c)return null;let f,v,w=l||c;w&8?(f=e+(i-e)*(this.ymax-a)/(s-a),v=this.ymax):w&4?(f=e+(i-e)*(this.ymin-a)/(s-a),v=this.ymin):w&2?(v=a+(s-a)*(this.xmax-e)/(i-e),f=this.xmax):(v=a+(s-a)*(this.xmin-e)/(i-e),f=this.xmin),l?(e=f,a=v,l=this._regioncode(e,a)):(i=f,s=v,c=this._regioncode(i,s))}}_clipInfinite(e,a,i,s,l,c){let f=Array.from(a),v;if((v=this._project(f[0],f[1],i,s))&&f.unshift(v[0],v[1]),(v=this._project(f[f.length-2],f[f.length-1],l,c))&&f.push(v[0],v[1]),f=this._clipFinite(e,f))for(let w=0,p=f.length,b,k=this._edgecode(f[p-2],f[p-1]);w<p;w+=2)b=k,k=this._edgecode(f[w],f[w+1]),b&&k&&(w=this._edge(e,b,k,f,w),p=f.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(e,a,i,s,l){for(;a!==i;){let c,f;switch(a){case 5:a=4;continue;case 4:a=6,c=this.xmax,f=this.ymin;break;case 6:a=2;continue;case 2:a=10,c=this.xmax,f=this.ymax;break;case 10:a=8;continue;case 8:a=9,c=this.xmin,f=this.ymax;break;case 9:a=1;continue;case 1:a=5,c=this.xmin,f=this.ymin;break}(s[l]!==c||s[l+1]!==f)&&this.contains(e,c,f)&&(s.splice(l,0,c,f),l+=2)}if(s.length>4)for(let c=0;c<s.length;c+=2){let f=(c+2)%s.length,v=(c+4)%s.length;(s[c]===s[f]&&s[f]===s[v]||s[c+1]===s[f+1]&&s[f+1]===s[v+1])&&(s.splice(f,2),c-=2)}return l}_project(e,a,i,s){let l=1/0,c,f,v;if(s<0){if(a<=this.ymin)return null;(c=(this.ymin-a)/s)<l&&(v=this.ymin,f=e+(l=c)*i)}else if(s>0){if(a>=this.ymax)return null;(c=(this.ymax-a)/s)<l&&(v=this.ymax,f=e+(l=c)*i)}if(i>0){if(e>=this.xmax)return null;(c=(this.xmax-e)/i)<l&&(f=this.xmax,v=a+(l=c)*s)}else if(i<0){if(e<=this.xmin)return null;(c=(this.xmin-e)/i)<l&&(f=this.xmin,v=a+(l=c)*s)}return[f,v]}_edgecode(e,a){return(e===this.xmin?1:e===this.xmax?2:0)|(a===this.ymin?4:a===this.ymax?8:0)}_regioncode(e,a){return(e<this.xmin?1:e>this.xmax?2:0)|(a<this.ymin?4:a>this.ymax?8:0)}};var Rs=2*Math.PI,Ht=Math.pow;function js(g){return g[0]}function Cs(g){return g[1]}function Ss(g){let{triangles:e,coords:a}=g;for(let i=0;i<e.length;i+=3){let s=2*e[i],l=2*e[i+1],c=2*e[i+2];if((a[c]-a[s])*(a[l+1]-a[s+1])-(a[l]-a[s])*(a[c+1]-a[s+1])>1e-10)return!1}return!0}function Ls(g,e,a){return[g+Math.sin(g+e)*a,e+Math.cos(g-e)*a]}var Nt=class{static from(e,a=js,i=Cs,s){return new Nt("length"in e?Gs(e,a,i,s):Float64Array.from(Ds(e,a,i,s)))}constructor(e){this._delaunator=new Rt(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,a=this.points;if(e.hull&&e.hull.length>2&&Ss(e)){this.collinear=Int32Array.from({length:a.length/2},(k,M)=>M).sort((k,M)=>a[2*k]-a[2*M]||a[2*k+1]-a[2*M+1]);let v=this.collinear[0],w=this.collinear[this.collinear.length-1],p=[a[2*v],a[2*v+1],a[2*w],a[2*w+1]],b=1e-8*Math.hypot(p[3]-p[1],p[2]-p[0]);for(let k=0,M=a.length/2;k<M;++k){let T=Ls(a[2*k],a[2*k+1],b);a[2*k]=T[0],a[2*k+1]=T[1]}this._delaunator=new Rt(a)}else delete this.collinear;let i=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,c=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let v=0,w=i.length;v<w;++v){let p=l[v%3==2?v-2:v+1];(i[v]===-1||c[p]===-1)&&(c[p]=v)}for(let v=0,w=s.length;v<w;++v)f[s[v]]=v;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],c[s[0]]=1,s.length===2&&(c[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(e){return new fn(this,e)}*neighbors(e){let{inedges:a,hull:i,_hullIndex:s,halfedges:l,triangles:c,collinear:f}=this;if(f){let b=f.indexOf(e);b>0&&(yield f[b-1]),b<f.length-1&&(yield f[b+1]);return}let v=a[e];if(v===-1)return;let w=v,p=-1;do{if(yield p=c[w],w=w%3==2?w-2:w+1,c[w]!==e)return;if(w=l[w],w===-1){let b=i[(s[e]+1)%i.length];b!==p&&(yield b);return}}while(w!==v)}find(e,a,i=0){if(e=+e,e!==e||(a=+a,a!==a))return-1;let s=i,l;for(;(l=this._step(i,e,a))>=0&&l!==i&&l!==s;)i=l;return l}_step(e,a,i){let{inedges:s,hull:l,_hullIndex:c,halfedges:f,triangles:v,points:w}=this;if(s[e]===-1||!w.length)return(e+1)%(w.length>>1);let p=e,b=Ht(a-w[e*2],2)+Ht(i-w[e*2+1],2),k=s[e],M=k;do{let T=v[M],E=Ht(a-w[T*2],2)+Ht(i-w[T*2+1],2);if(E<b&&(b=E,p=T),M=M%3==2?M-2:M+1,v[M]!==e)break;if(M=f[M],M===-1){if(M=l[(c[e]+1)%l.length],M!==T&&Ht(a-w[M*2],2)+Ht(i-w[M*2+1],2)<b)return M;break}}while(M!==k);return p}render(e){let a=e==null?e=new Pt:void 0,{points:i,halfedges:s,triangles:l}=this;for(let c=0,f=s.length;c<f;++c){let v=s[c];if(v<c)continue;let w=l[c]*2,p=l[v]*2;e.moveTo(i[w],i[w+1]),e.lineTo(i[p],i[p+1])}return this.renderHull(e),a&&a.value()}renderPoints(e,a){a===void 0&&(!e||typeof e.moveTo!="function")&&(a=e,e=null),a=a==null?2:+a;let i=e==null?e=new Pt:void 0,{points:s}=this;for(let l=0,c=s.length;l<c;l+=2){let f=s[l],v=s[l+1];e.moveTo(f+a,v),e.arc(f,v,a,0,Rs)}return i&&i.value()}renderHull(e){let a=e==null?e=new Pt:void 0,{hull:i,points:s}=this,l=i[0]*2,c=i.length;e.moveTo(s[l],s[l+1]);for(let f=1;f<c;++f){let v=2*i[f];e.lineTo(s[v],s[v+1])}return e.closePath(),a&&a.value()}hullPolygon(){let e=new jt;return this.renderHull(e),e.value()}renderTriangle(e,a){let i=a==null?a=new Pt:void 0,{points:s,triangles:l}=this,c=l[e*=3]*2,f=l[e+1]*2,v=l[e+2]*2;return a.moveTo(s[c],s[c+1]),a.lineTo(s[f],s[f+1]),a.lineTo(s[v],s[v+1]),a.closePath(),i&&i.value()}*trianglePolygons(){let{triangles:e}=this;for(let a=0,i=e.length/3;a<i;++a)yield this.trianglePolygon(a)}trianglePolygon(e){let a=new jt;return this.renderTriangle(e,a),a.value()}};function Gs(g,e,a,i){let s=g.length,l=new Float64Array(s*2);for(let c=0;c<s;++c){let f=g[c];l[c*2]=e.call(i,f,c,g),l[c*2+1]=a.call(i,f,c,g)}return l}function*Ds(g,e,a,i){let s=0;for(let l of g)yield e.call(i,l,s,g),yield a.call(i,l,s,g),++s}var Dn=class{constructor(e={}){e=xs(e),this.width=e.width,this.height=e.height,this.points=e.points,this.palette=e.palette}renderRandom(e,{lineWidth:a=2,gradientAngle:i=void 0}={}){let s={lineWidth:a,gradientAngle:i};return bt(1,2)===1?this.renderTriangle(e,s):this.renderVoronoi(e,s)}renderTriangle(e,{lineWidth:a=1,gradientAngle:i=void 0}={}){Ne(i)||(i=bt(0,360)),i=Te(i),this._initiateContext(e,a,i),e.fillRect(0,0,this.width,this.height);let s=Nt.from(this.points);[...s.trianglePolygons()].forEach(l=>{if(!l.some(w=>{let[p,b]=[w[0],w[1]];return p>=0&&p<=this.width&&b>=0&&b<=this.height}))return;let f=(l[0][0]+l[1][0]+l[2][0])/3;f<=0?f=1:f>=this.width&&(f=this.width-1);let v=(l[0][1]+l[1][1]+l[2][1])/3;v<=0?v=1:v>=this.height&&(v=this.height-1),e.fillStyle=Ee(e,f,v),Re(e,l),e.fill()}),a>0&&(e.beginPath(),s.render(e),e.stroke())}renderVoronoi(e,{lineWidth:a=1,gradientAngle:i=void 0}={}){Ne(i)||(i=bt(0,360)),i=Te(i),this._initiateContext(e,a,i),e.fillRect(0,0,this.width,this.height);let l=Nt.from(this.points).voronoi([0,0,this.width,this.height]);[...l.cellPolygons()].forEach(c=>{let[f,v]=[0,0],w=c.length-1;for(let k=0;k<w;k++)f+=c[k][0],v+=c[k][1];let p=f/w,b=v/w;e.fillStyle=Ee(e,p,b),Re(e,c),e.fill()}),a>0&&(e.beginPath(),l.render(e),e.stroke())}_initiateContext(e,a,i){let s=this._createGradient(e,i),l=zt.default.average(this.palette,"lch").luminance(),c=this.palette.map(v=>{let w=(0,zt.default)(v);return w=l>=.5?w.darken():w.brighten(),w.hex()}),f=this._createGradient(e,i,c);e.lineWidth=a,e.fillStyle=s,e.strokeStyle=f}_createGradient(e,a,i){let{width:s,height:l}={...this};Ie(i)||(i=this.palette);let[c,f]=[s/2,0],[v,w]=[s/2,l];if(Math.abs(a)!==90){let k=Math.tan(a*Math.PI/180),M=s/2,T=l/2,[E,y]=[M,k*M];y>T?[E,y]=[T/k,T]:y<-T&&([E,y]=[-T/k,-T]),[v,w]=[Math.round(E+s/2),Math.round(y+l/2)],[c,f]=[s-v,l-w],k<0&&([c,v]=[v,c],[f,w]=[w,f])}let p=i.length,b=e.createLinearGradient(c,f,v,w);return i.forEach((k,M)=>{b.addColorStop(M/(p-1),k)}),b}};function xs(g={}){return typeof g.width!="number"&&(g.width=800),typeof g.height!="number"&&(g.height=600),Os(g.points)||(g.points=on.random(g.width,g.height)),Ie(g.palette)||(g.palette=ln.random()),g}function Os(g){return!Array.isArray(g)||g.length===0?!1:g.every(e=>Array.isArray(e)&&e.length===2&&isFinite(e[0])&&isFinite(e[1]))}function Ie(g){return!Array.isArray(g)||g.length<2?!1:g.every(e=>typeof e=="string"&&zt.default.valid(e))}function Ne(g){return typeof g=="number"&&isFinite(g)}function Te(g){if(g<0){for(;g<0;)g+=360;return g}else if(g>360){for(;g>360;)g-=360;return g}else return g}function Ee(g,e,a){let i=g.getImageData(e,a,1,1).data;return zt.default.rgb(i[0],i[1],i[2]).hex()}function Re(g,e){g.beginPath(),g.moveTo(e[0][0],e[0][1]);for(let a=1;a<e.length;a++)g.lineTo(e[a][0],e[a][1])}function Sl(g){return new Dn(g)}export{ln as Palette,Dn as Pattern,on as Points,Sl as default};
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
